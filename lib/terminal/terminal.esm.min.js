import e from"primevue2/terminalservice";var n={name:"Terminal",props:{welcomeMessage:{type:String,default:null},prompt:{type:String,default:null}},data:function(){return{commandText:null,commands:[]}},mounted:function(){e.on("response",this.responseListener),this.$refs.input.focus()},updated:function(){this.$el.scrollTop=this.$el.scrollHeight},beforeDestroy:function(){e.off("response",this.responseListener)},methods:{onClick:function(){this.$refs.input.focus()},onKeydown:function(n){13===n.keyCode&&this.commandText&&(this.commands.push({text:this.commandText}),e.emit("command",this.commandText),this.commandText="")},responseListener:function(e){this.commands[this.commands.length-1].response=e}}};function t(e,n,t,s,o,i,a,r,m,l){"boolean"!=typeof a&&(m=r,r=a,a=!1);const p="function"==typeof t?t.options:t;let c;if(e&&e.render&&(p.render=e.render,p.staticRenderFns=e.staticRenderFns,p._compiled=!0,o&&(p.functional=!0)),s&&(p._scopeId=s),i?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,m(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},p._ssrRegister=c):n&&(c=a?function(e){n.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,r(e))}),c)if(p.functional){const e=p.render;p.render=function(n,t){return c.call(t),e(n,t)}}else{const e=p.beforeCreate;p.beforeCreate=e?[].concat(e,c):[c]}return t}const s="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function o(e){return(e,n)=>r(e,n)}let i;const a={};function r(e,n){const t=s?n.media||"default":e,o=a[t]||(a[t]={ids:new Set,styles:[]});if(!o.ids.has(e)){o.ids.add(e);let t=n.source;if(n.map&&(t+="\n/*# sourceURL="+n.map.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),o.element||(o.element=document.createElement("style"),o.element.type="text/css",n.media&&o.element.setAttribute("media",n.media),void 0===i&&(i=document.head||document.getElementsByTagName("head")[0]),i.appendChild(o.element)),"styleSheet"in o.element)o.styles.push(t),o.element.styleSheet.cssText=o.styles.filter(Boolean).join("\n");else{const e=o.ids.size-1,n=document.createTextNode(t),s=o.element.childNodes;s[e]&&o.element.removeChild(s[e]),s.length?o.element.insertBefore(n,s[e]):o.element.appendChild(n)}}}var m=n,l=function(){var e=this,n=e._self._c||e.$createElement;return n("div",{staticClass:"p-terminal p-component",on:{click:e.onClick}},[e.welcomeMessage?n("div",[e._v(e._s(e.welcomeMessage))]):e._e(),e._v(" "),n("div",{staticClass:"p-terminal-content"},e._l(e.commands,(function(t,s){return n("div",{key:t.text+"_"+s},[n("span",{staticClass:"p-terminal-prompt"},[e._v(e._s(e.prompt))]),e._v(" "),n("span",{staticClass:"p-terminal-command"},[e._v(e._s(t.text))]),e._v(" "),n("div",{staticClass:"p-terminal-response"},[e._v(e._s(t.response))])])})),0),e._v(" "),n("div",{staticClass:"p-terminal-prompt-container"},[n("span",{staticClass:"p-terminal-prompt"},[e._v(e._s(e.prompt))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.commandText,expression:"commandText"}],ref:"input",staticClass:"p-terminal-input",attrs:{type:"text",autocomplete:"off"},domProps:{value:e.commandText},on:{keydown:e.onKeydown,input:function(n){n.target.composing||(e.commandText=n.target.value)}}})])])};l._withStripped=!0;var p=t({render:l,staticRenderFns:[]},(function(e){e&&e("data-v-10b03554_0",{source:"\n.p-terminal {\n  height: 18rem;\n  overflow: auto;\n}\n.p-terminal-prompt-container {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.p-terminal-input {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1 1 auto;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n  border: 0 none;\n  background-color: transparent;\n  color: inherit;\n  padding: 0;\n  outline: 0 none;\n}\n.p-terminal-input::-ms-clear {\n  display: none;\n}\n",map:{version:3,sources:["/Users/nangongpo/Desktop/我的开源/primevue2/src/components/terminal/Terminal.vue"],names:[],mappings:";AAwEA;EACA,aAAA;EACA,cAAA;AACA;AAEA;EACA,oBAAA;EAAA,qBAAA;EAAA,oBAAA;EAAA,aAAA;EACA,yBAAA;EAAA,2BAAA;MAAA,sBAAA;UAAA,mBAAA;AACA;AAEA;EACA,mBAAA;EAAA,sBAAA;MAAA,kBAAA;UAAA,cAAA;EACA,cAAA;EACA,6BAAA;EACA,cAAA;EACA,UAAA;EACA,eAAA;AACA;AAEA;EACA,aAAA;AACA",file:"Terminal.vue",sourcesContent:['<template>\n  <div class="p-terminal p-component" @click="onClick">\n    <div v-if="welcomeMessage">{{ welcomeMessage }}</div>\n    <div class="p-terminal-content">\n      <div v-for="(command, i) of commands" :key="command.text + \'_\' + i">\n        <span class="p-terminal-prompt">{{ prompt }}</span>\n        <span class="p-terminal-command">{{ command.text }}</span>\n        <div class="p-terminal-response">{{ command.response }}</div>\n      </div>\n    </div>\n    <div class="p-terminal-prompt-container">\n      <span class="p-terminal-prompt">{{ prompt }}</span>\n      <input\n        ref="input"\n        type="text"\n        v-model="commandText"\n        class="p-terminal-input"\n        autocomplete="off"\n        @keydown="onKeydown" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport TerminalService from \'primevue2/terminalservice\'\nexport default {\n  name: \'Terminal\',\n  props: {\n    welcomeMessage: {\n      type: String,\n      default: null\n    },\n    prompt: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      commandText: null,\n      commands: []\n    }\n  },\n  mounted() {\n    TerminalService.on(\'response\', this.responseListener)\n    this.$refs.input.focus()\n  },\n  updated() {\n    this.$el.scrollTop = this.$el.scrollHeight\n  },\n  beforeDestroy() {\n    TerminalService.off(\'response\', this.responseListener)\n  },\n  methods: {\n    onClick() {\n      this.$refs.input.focus()\n    },\n    onKeydown(event) {\n      if (event.keyCode === 13 && this.commandText) {\n        this.commands.push({ text: this.commandText })\n        TerminalService.emit(\'command\', this.commandText)\n        this.commandText = \'\'\n      }\n    },\n    responseListener(response) {\n      this.commands[this.commands.length - 1].response = response\n    }\n  }\n}\n<\/script>\n\n<style>\n.p-terminal {\n  height: 18rem;\n  overflow: auto;\n}\n\n.p-terminal-prompt-container {\n  display: flex;\n  align-items: center;\n}\n\n.p-terminal-input {\n  flex: 1 1 auto;\n  border: 0 none;\n  background-color: transparent;\n  color: inherit;\n  padding: 0;\n  outline: 0 none;\n}\n\n.p-terminal-input::-ms-clear {\n  display: none;\n}\n</style>\n']},media:void 0})}),m,undefined,false,undefined,!1,o,void 0,void 0);export{p as default};
