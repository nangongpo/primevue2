var t={name:"Chart",props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150}},chart:null,mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.destroy(),this.chart=null)},watch:{data:{handler:function(){this.reinit()},deep:!0},type:function(){this.reinit()},options:function(){this.reinit()}},methods:{initChart:function(){var t=this;import("chart.js/auto").then((function(e){t.chart&&(t.chart.destroy(),t.chart=null),e&&e.default&&(t.chart=new e.default(t.$refs.canvas,{type:t.type,data:t.data,options:t.options,plugins:t.plugins})),t.$emit("loaded",t.chart)}))},getCanvas:function(){return this.$canvas},getChart:function(){return this.chart},getBase64Image:function(){return this.chart.toBase64Image()},refresh:function(){this.chart&&this.chart.update()},reinit:function(){this.initChart()},onCanvasClick:function(t){if(this.chart){var e=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),n=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);e&&e[0]&&n&&this.$emit("select",{originalEvent:t,element:e[0],dataset:n})}},generateLegend:function(){if(this.chart)return this.chart.generateLegend()}}};function e(t,e,n,i,a,s,r,o,h,c){"boolean"!=typeof r&&(h=o,o=r,r=!1);const l="function"==typeof n?n.options:n;let d;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,a&&(l.functional=!0)),i&&(l._scopeId=i),s?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,h(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=d):e&&(d=r?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,o(t))}),d)if(l.functional){const t=l.render;l.render=function(e,n){return d.call(n),t(e,n)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,d):[d]}return n}const n="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function i(t){return(t,e)=>r(t,e)}let a;const s={};function r(t,e){const i=n?e.media||"default":t,r=s[i]||(s[i]={ids:new Set,styles:[]});if(!r.ids.has(t)){r.ids.add(t);let n=e.source;if(e.map&&(n+="\n/*# sourceURL="+e.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",e.media&&r.element.setAttribute("media",e.media),void 0===a&&(a=document.head||document.getElementsByTagName("head")[0]),a.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(n),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{const t=r.ids.size-1,e=document.createTextNode(n),i=r.element.childNodes;i[t]&&r.element.removeChild(i[t]),i.length?r.element.insertBefore(e,i[t]):r.element.appendChild(e)}}}var o=t,h=function(){var t=this,e=t._self._c||t.$createElement;return e("div",{staticClass:"p-chart"},[e("canvas",{ref:"canvas",attrs:{width:t.width,height:t.height},on:{click:function(e){return t.onCanvasClick(e)}}})])};h._withStripped=!0;var c=e({render:h,staticRenderFns:[]},(function(t){t&&t("data-v-b13f0728_0",{source:"\n.p-chart {\n  position: relative;\n}\n",map:{version:3,sources:["/Users/nangongpo/Desktop/我的开源/primevue2/src/components/chart/Chart.vue"],names:[],mappings:";AAwGA;EACA,kBAAA;AACA",file:"Chart.vue",sourcesContent:["<template>\n  <div class=\"p-chart\">\n    <canvas ref=\"canvas\" :width=\"width\" :height=\"height\" @click=\"onCanvasClick($event)\"></canvas>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Chart',\n  props: {\n    type: String,\n    data: null,\n    options: null,\n    plugins: null,\n    width: {\n      type: Number,\n      default: 300\n    },\n    height: {\n      type: Number,\n      default: 150\n    }\n  },\n  chart: null,\n  mounted() {\n    this.initChart()\n  },\n  beforeDestroy() {\n    if (this.chart) {\n      this.chart.destroy()\n      this.chart = null\n    }\n  },\n  watch: {\n    data: {\n      handler() {\n        this.reinit()\n      },\n      deep: true\n    },\n    type() {\n      this.reinit()\n    },\n    options() {\n      this.reinit()\n    }\n  },\n  methods: {\n    initChart() {\n      import('chart.js/auto').then((module) => {\n        if (this.chart) {\n          this.chart.destroy()\n          this.chart = null\n        }\n\n        if (module && module.default) {\n          this.chart = new module.default(this.$refs.canvas, {\n            type: this.type,\n            data: this.data,\n            options: this.options,\n            plugins: this.plugins\n          })\n        }\n\n        this.$emit('loaded', this.chart)\n      })\n    },\n    getCanvas() {\n      return this.$canvas\n    },\n    getChart() {\n      return this.chart\n    },\n    getBase64Image() {\n      return this.chart.toBase64Image()\n    },\n    refresh() {\n      if (this.chart) {\n        this.chart.update()\n      }\n    },\n    reinit() {\n      this.initChart()\n    },\n    onCanvasClick(event) {\n      if (this.chart) {\n        const element = this.chart.getElementsAtEventForMode(event, 'nearest', { intersect: true }, false)\n        const dataset = this.chart.getElementsAtEventForMode(event, 'dataset', { intersect: true }, false)\n\n        if (element && element[0] && dataset) {\n          this.$emit('select', { originalEvent: event, element: element[0], dataset: dataset })\n        }\n      }\n    },\n    generateLegend() {\n      if (this.chart) {\n        return this.chart.generateLegend()\n      }\n    }\n  }\n}\n<\/script>\n\n<style>\n.p-chart {\n  position: relative;\n}\n</style>\n"]},media:void 0})}),o,undefined,false,undefined,!1,i,void 0,void 0);export{c as default};
