"use strict";var e=require("primevue2/utils"),n={name:"ScrollPanel",initialized:!1,documentResizeListener:null,documentMouseMoveListener:null,documentMouseUpListener:null,frame:null,scrollXRatio:null,scrollYRatio:null,isXBarClicked:!1,isYBarClicked:!1,lastPageX:null,lastPageY:null,mounted:function(){this.$el.offsetParent&&this.initialize()},updated:function(){!this.initialized&&this.$el.offsetParent&&this.initialize()},beforeDestroy:function(){this.unbindDocumentResizeListener(),this.frame&&window.cancelAnimationFrame(this.frame)},methods:{initialize:function(){this.moveBar(),this.bindDocumentResizeListener(),this.calculateContainerHeight()},calculateContainerHeight:function(){var n=getComputedStyle(this.$el),t=getComputedStyle(this.$refs.xBar),s=e.DomHandler.getHeight(this.$el)-parseInt(t.height,10);"none"!==n["max-height"]&&0===s&&(this.$el.style.height=this.$refs.content.offsetHeight+parseInt(t.height,10)>parseInt(n["max-height"],10)?n["max-height"]:this.$refs.content.offsetHeight+parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)+"px")},moveBar:function(){var n=this,t=this.$refs.content.scrollWidth,s=-1*(this.$el.clientHeight-this.$refs.xBar.clientHeight);this.scrollXRatio=this.$refs.content.clientWidth/t;var o=this.$refs.content.scrollHeight,i=-1*(this.$el.clientWidth-this.$refs.yBar.clientWidth);this.scrollYRatio=this.$refs.content.clientHeight/o,this.frame=this.requestAnimationFrame((function(){n.scrollXRatio>=1?e.DomHandler.addClass(n.$refs.xBar,"p-scrollpanel-hidden"):(e.DomHandler.removeClass(n.$refs.xBar,"p-scrollpanel-hidden"),n.$refs.xBar.style.cssText="width:"+Math.max(100*n.scrollXRatio,10)+"%; left:"+n.$refs.content.scrollLeft/t*100+"%;bottom:"+s+"px;"),n.scrollYRatio>=1?e.DomHandler.addClass(n.$refs.yBar,"p-scrollpanel-hidden"):(e.DomHandler.removeClass(n.$refs.yBar,"p-scrollpanel-hidden"),n.$refs.yBar.style.cssText="height:"+Math.max(100*n.scrollYRatio,10)+"%; top: calc("+n.$refs.content.scrollTop/o*100+"% - "+n.$refs.xBar.clientHeight+"px);right:"+i+"px;")}))},onYBarMouseDown:function(n){this.isYBarClicked=!0,this.lastPageY=n.pageY,e.DomHandler.addClass(this.$refs.yBar,"p-scrollpanel-grabbed"),e.DomHandler.addClass(document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),n.preventDefault()},onXBarMouseDown:function(n){this.isXBarClicked=!0,this.lastPageX=n.pageX,e.DomHandler.addClass(this.$refs.xBar,"p-scrollpanel-grabbed"),e.DomHandler.addClass(document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),n.preventDefault()},onDocumentMouseMove:function(e){this.isXBarClicked?this.onMouseMoveForXBar(e):(this.isYBarClicked||this.onMouseMoveForXBar(e),this.onMouseMoveForYBar(e))},onMouseMoveForXBar:function(e){var n=this,t=e.pageX-this.lastPageX;this.lastPageX=e.pageX,this.frame=this.requestAnimationFrame((function(){n.$refs.content.scrollLeft+=t/n.scrollXRatio}))},onMouseMoveForYBar:function(e){var n=this,t=e.pageY-this.lastPageY;this.lastPageY=e.pageY,this.frame=this.requestAnimationFrame((function(){n.$refs.content.scrollTop+=t/n.scrollYRatio}))},onDocumentMouseUp:function(){e.DomHandler.removeClass(this.$refs.yBar,"p-scrollpanel-grabbed"),e.DomHandler.removeClass(this.$refs.xBar,"p-scrollpanel-grabbed"),e.DomHandler.removeClass(document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1},requestAnimationFrame:function(e){(window.requestAnimationFrame||this.timeoutFrame)(e)},refresh:function(){this.moveBar()},scrollTop:function(e){var n=this.$refs.content.scrollHeight-this.$refs.content.clientHeight;this.$refs.contentscrollTop=e=e>n?n:e>0?e:0},bindDocumentMouseListeners:function(){var e=this;this.documentMouseMoveListener||(this.documentMouseMoveListener=function(n){e.onDocumentMouseMove(n)},document.addEventListener("mousemove",this.documentMouseMoveListener)),this.documentMouseUpListener||(this.documentMouseUpListener=function(n){e.onDocumentMouseUp(n)},document.addEventListener("mouseup",this.documentMouseUpListener))},unbindDocumentMouseListeners:function(){this.documentMouseMoveListener&&(document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)},bindDocumentResizeListener:function(){var e=this;this.documentResizeListener||(this.documentResizeListener=function(){e.moveBar()},window.addEventListener("resize",this.documentResizeListener))},unbindDocumentResizeListener:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}}};function t(e,n,t,s,o,i,r,l,a,c){"boolean"!=typeof r&&(a=l,l=r,r=!1);const d="function"==typeof t?t.options:t;let h;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,o&&(d.functional=!0)),s&&(d._scopeId=s),i?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,a(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=h):n&&(h=r?function(e){n.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,l(e))}),h)if(d.functional){const e=d.render;d.render=function(n,t){return h.call(t),e(n,t)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,h):[h]}return t}const s="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function o(e){return(e,n)=>l(e,n)}let i;const r={};function l(e,n){const t=s?n.media||"default":e,o=r[t]||(r[t]={ids:new Set,styles:[]});if(!o.ids.has(e)){o.ids.add(e);let t=n.source;if(n.map&&(t+="\n/*# sourceURL="+n.map.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),o.element||(o.element=document.createElement("style"),o.element.type="text/css",n.media&&o.element.setAttribute("media",n.media),void 0===i&&(i=document.head||document.getElementsByTagName("head")[0]),i.appendChild(o.element)),"styleSheet"in o.element)o.styles.push(t),o.element.styleSheet.cssText=o.styles.filter(Boolean).join("\n");else{const e=o.ids.size-1,n=document.createTextNode(t),s=o.element.childNodes;s[e]&&o.element.removeChild(s[e]),s.length?o.element.insertBefore(n,s[e]):o.element.appendChild(n)}}}var a=n,c=function(){var e=this,n=e._self._c||e.$createElement;return n("div",{staticClass:"p-scrollpanel p-component"},[n("div",{staticClass:"p-scrollpanel-wrapper"},[n("div",{ref:"content",staticClass:"p-scrollpanel-content",on:{scroll:e.moveBar,mouseenter:e.moveBar}},[e._t("default")],2)]),e._v(" "),n("div",{ref:"xBar",staticClass:"p-scrollpanel-bar p-scrollpanel-bar-x",on:{mousedown:e.onXBarMouseDown}}),e._v(" "),n("div",{ref:"yBar",staticClass:"p-scrollpanel-bar p-scrollpanel-bar-y",on:{mousedown:e.onYBarMouseDown}})])};c._withStripped=!0;module.exports=t({render:c,staticRenderFns:[]},(function(e){e&&e("data-v-59835bf3_0",{source:"\n.p-scrollpanel-wrapper {\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 1;\n  float: left;\n}\n.p-scrollpanel-content {\n  height: calc(100% + 18px);\n  width: calc(100% + 18px);\n  padding: 0 18px 18px 0;\n  position: relative;\n  overflow: auto;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.p-scrollpanel-bar {\n  position: relative;\n  background: #c1c1c1;\n  border-radius: 3px;\n  z-index: 2;\n  cursor: pointer;\n  opacity: 0;\n  -webkit-transition: opacity 0.25s linear;\n  transition: opacity 0.25s linear;\n}\n.p-scrollpanel-bar-y {\n  width: 9px;\n  top: 0;\n}\n.p-scrollpanel-bar-x {\n  height: 9px;\n  bottom: 0;\n}\n.p-scrollpanel-hidden {\n  visibility: hidden;\n}\n.p-scrollpanel:hover .p-scrollpanel-bar,\n.p-scrollpanel:active .p-scrollpanel-bar {\n  opacity: 1;\n}\n.p-scrollpanel-grabbed {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n",map:{version:3,sources:["/Users/nangongpo/Desktop/我的开源/primevue2/src/components/scrollpanel/ScrollPanel.vue"],names:[],mappings:";AAqNA;EACA,gBAAA;EACA,WAAA;EACA,YAAA;EACA,kBAAA;EACA,UAAA;EACA,WAAA;AACA;AAEA;EACA,yBAAA;EACA,wBAAA;EACA,sBAAA;EACA,kBAAA;EACA,cAAA;EACA,8BAAA;UAAA,sBAAA;AACA;AAEA;EACA,kBAAA;EACA,mBAAA;EACA,kBAAA;EACA,UAAA;EACA,eAAA;EACA,UAAA;EACA,wCAAA;EAAA,gCAAA;AACA;AAEA;EACA,UAAA;EACA,MAAA;AACA;AAEA;EACA,WAAA;EACA,SAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;;EAEA,UAAA;AACA;AAEA;EACA,yBAAA;KAAA,sBAAA;MAAA,qBAAA;UAAA,iBAAA;AACA",file:"ScrollPanel.vue",sourcesContent:["<template>\n  <div class=\"p-scrollpanel p-component\">\n    <div class=\"p-scrollpanel-wrapper\">\n      <div ref=\"content\" class=\"p-scrollpanel-content\" @scroll=\"moveBar\" @mouseenter=\"moveBar\">\n        <slot></slot>\n      </div>\n    </div>\n    <div ref=\"xBar\" class=\"p-scrollpanel-bar p-scrollpanel-bar-x\" @mousedown=\"onXBarMouseDown\"></div>\n    <div ref=\"yBar\" class=\"p-scrollpanel-bar p-scrollpanel-bar-y\" @mousedown=\"onYBarMouseDown\"></div>\n  </div>\n</template>\n\n<script>\nimport { DomHandler } from 'primevue2/utils'\n\nexport default {\n  name: 'ScrollPanel',\n  initialized: false,\n  documentResizeListener: null,\n  documentMouseMoveListener: null,\n  documentMouseUpListener: null,\n  frame: null,\n  scrollXRatio: null,\n  scrollYRatio: null,\n  isXBarClicked: false,\n  isYBarClicked: false,\n  lastPageX: null,\n  lastPageY: null,\n  mounted() {\n    if (this.$el.offsetParent) {\n      this.initialize()\n    }\n  },\n  updated() {\n    if (!this.initialized && this.$el.offsetParent) {\n      this.initialize()\n    }\n  },\n  beforeDestroy() {\n    this.unbindDocumentResizeListener()\n\n    if (this.frame) {\n      window.cancelAnimationFrame(this.frame)\n    }\n  },\n  methods: {\n    initialize() {\n      this.moveBar()\n      this.bindDocumentResizeListener()\n      this.calculateContainerHeight()\n    },\n    calculateContainerHeight() {\n      let containerStyles = getComputedStyle(this.$el),\n        xBarStyles = getComputedStyle(this.$refs.xBar),\n        pureContainerHeight = DomHandler.getHeight(this.$el) - parseInt(xBarStyles['height'], 10)\n\n      if (containerStyles['max-height'] !== 'none' && pureContainerHeight === 0) {\n        if (this.$refs.content.offsetHeight + parseInt(xBarStyles['height'], 10) > parseInt(containerStyles['max-height'], 10)) {\n          this.$el.style.height = containerStyles['max-height']\n        }\n        else {\n          this.$el.style.height = this.$refs.content.offsetHeight + parseFloat(containerStyles.paddingTop) + parseFloat(containerStyles.paddingBottom) + parseFloat(containerStyles.borderTopWidth) + parseFloat(containerStyles.borderBottomWidth) + 'px'\n        }\n      }\n    },\n    moveBar() {\n      /* horizontal scroll */\n      let totalWidth = this.$refs.content.scrollWidth\n      let ownWidth = this.$refs.content.clientWidth\n      let bottom = (this.$el.clientHeight - this.$refs.xBar.clientHeight) * -1\n\n      this.scrollXRatio = ownWidth / totalWidth\n\n      /* vertical scroll */\n      let totalHeight = this.$refs.content.scrollHeight\n      let ownHeight = this.$refs.content.clientHeight\n      let right = (this.$el.clientWidth - this.$refs.yBar.clientWidth) * -1\n\n      this.scrollYRatio = ownHeight / totalHeight\n\n      this.frame = this.requestAnimationFrame(() => {\n        if (this.scrollXRatio >= 1) {\n          DomHandler.addClass(this.$refs.xBar, 'p-scrollpanel-hidden')\n        }\n        else {\n          DomHandler.removeClass(this.$refs.xBar, 'p-scrollpanel-hidden')\n          this.$refs.xBar.style.cssText = 'width:' + Math.max(this.scrollXRatio * 100, 10) + '%; left:' + (this.$refs.content.scrollLeft / totalWidth) * 100 + '%;bottom:' + bottom + 'px;'\n        }\n\n        if (this.scrollYRatio >= 1) {\n          DomHandler.addClass(this.$refs.yBar, 'p-scrollpanel-hidden')\n        }\n        else {\n          DomHandler.removeClass(this.$refs.yBar, 'p-scrollpanel-hidden')\n          this.$refs.yBar.style.cssText = 'height:' + Math.max(this.scrollYRatio * 100, 10) + '%; top: calc(' + (this.$refs.content.scrollTop / totalHeight) * 100 + '% - ' + this.$refs.xBar.clientHeight + 'px);right:' + right + 'px;'\n        }\n      })\n    },\n    onYBarMouseDown(e) {\n      this.isYBarClicked = true\n      this.lastPageY = e.pageY\n      DomHandler.addClass(this.$refs.yBar, 'p-scrollpanel-grabbed')\n      DomHandler.addClass(document.body, 'p-scrollpanel-grabbed')\n\n      this.bindDocumentMouseListeners()\n      e.preventDefault()\n    },\n    onXBarMouseDown(e) {\n      this.isXBarClicked = true\n      this.lastPageX = e.pageX\n      DomHandler.addClass(this.$refs.xBar, 'p-scrollpanel-grabbed')\n      DomHandler.addClass(document.body, 'p-scrollpanel-grabbed')\n\n      this.bindDocumentMouseListeners()\n      e.preventDefault()\n    },\n    onDocumentMouseMove(e) {\n      if (this.isXBarClicked) {\n        this.onMouseMoveForXBar(e)\n      }\n      else if (this.isYBarClicked) {\n        this.onMouseMoveForYBar(e)\n      }\n      else {\n        this.onMouseMoveForXBar(e)\n        this.onMouseMoveForYBar(e)\n      }\n    },\n    onMouseMoveForXBar(e) {\n      let deltaX = e.pageX - this.lastPageX\n      this.lastPageX = e.pageX\n\n      this.frame = this.requestAnimationFrame(() => {\n        this.$refs.content.scrollLeft += deltaX / this.scrollXRatio\n      })\n    },\n    onMouseMoveForYBar(e) {\n      let deltaY = e.pageY - this.lastPageY\n      this.lastPageY = e.pageY\n\n      this.frame = this.requestAnimationFrame(() => {\n        this.$refs.content.scrollTop += deltaY / this.scrollYRatio\n      })\n    },\n    onDocumentMouseUp() {\n      DomHandler.removeClass(this.$refs.yBar, 'p-scrollpanel-grabbed')\n      DomHandler.removeClass(this.$refs.xBar, 'p-scrollpanel-grabbed')\n      DomHandler.removeClass(document.body, 'p-scrollpanel-grabbed')\n\n      this.unbindDocumentMouseListeners()\n      this.isXBarClicked = false\n      this.isYBarClicked = false\n    },\n    requestAnimationFrame(f) {\n      let frame = window.requestAnimationFrame || this.timeoutFrame\n      frame(f)\n    },\n    refresh() {\n      this.moveBar()\n    },\n    scrollTop(scrollTop) {\n      let scrollableHeight = this.$refs.content.scrollHeight - this.$refs.content.clientHeight\n      scrollTop = scrollTop > scrollableHeight ? scrollableHeight : scrollTop > 0 ? scrollTop : 0\n      this.$refs.contentscrollTop = scrollTop\n    },\n    bindDocumentMouseListeners() {\n      if (!this.documentMouseMoveListener) {\n        this.documentMouseMoveListener = (e) => {\n          this.onDocumentMouseMove(e)\n        }\n\n        document.addEventListener('mousemove', this.documentMouseMoveListener)\n      }\n\n      if (!this.documentMouseUpListener) {\n        this.documentMouseUpListener = (e) => {\n          this.onDocumentMouseUp(e)\n        }\n\n        document.addEventListener('mouseup', this.documentMouseUpListener)\n      }\n    },\n    unbindDocumentMouseListeners() {\n      if (this.documentMouseMoveListener) {\n        document.removeEventListener('mousemove', this.documentMouseMoveListener)\n        this.documentMouseMoveListener = null\n      }\n\n      if (this.documentMouseUpListener) {\n        document.removeEventListener('mouseup', this.documentMouseUpListener)\n        this.documentMouseUpListener = null\n      }\n    },\n    bindDocumentResizeListener() {\n      if (!this.documentResizeListener) {\n        this.documentResizeListener = () => {\n          this.moveBar()\n        }\n\n        window.addEventListener('resize', this.documentResizeListener)\n      }\n    },\n    unbindDocumentResizeListener() {\n      if (this.documentResizeListener) {\n        window.removeEventListener('resize', this.documentResizeListener)\n        this.documentResizeListener = null\n      }\n    }\n  }\n}\n<\/script>\n\n<style>\n.p-scrollpanel-wrapper {\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 1;\n  float: left;\n}\n\n.p-scrollpanel-content {\n  height: calc(100% + 18px);\n  width: calc(100% + 18px);\n  padding: 0 18px 18px 0;\n  position: relative;\n  overflow: auto;\n  box-sizing: border-box;\n}\n\n.p-scrollpanel-bar {\n  position: relative;\n  background: #c1c1c1;\n  border-radius: 3px;\n  z-index: 2;\n  cursor: pointer;\n  opacity: 0;\n  transition: opacity 0.25s linear;\n}\n\n.p-scrollpanel-bar-y {\n  width: 9px;\n  top: 0;\n}\n\n.p-scrollpanel-bar-x {\n  height: 9px;\n  bottom: 0;\n}\n\n.p-scrollpanel-hidden {\n  visibility: hidden;\n}\n\n.p-scrollpanel:hover .p-scrollpanel-bar,\n.p-scrollpanel:active .p-scrollpanel-bar {\n  opacity: 1;\n}\n\n.p-scrollpanel-grabbed {\n  user-select: none;\n}\n</style>\n"]},media:void 0})}),a,undefined,false,undefined,!1,o,void 0,void 0);
