"use strict";var n=require("primevue2/utils"),e=require("primevue2/ripple");function t(n){return n&&"object"==typeof n&&"default"in n?n:{default:n}}var a={props:{activeIndex:{type:Number,default:0},scrollable:{type:Boolean,default:!1}},data:function(){return{allChildren:[],d_activeIndex:this.activeIndex,backwardIsDisabled:!0,forwardIsDisabled:!1}},watch:{activeIndex:function(n){this.d_activeIndex=n,this.updateScrollBar(n)}},mounted:function(){this.allChildren=this.$children,this.updateInkBar()},updated:function(){this.updateInkBar()},methods:{onTabClick:function(n,e){this.isTabDisabled(this.tabs[e])||e===this.d_activeIndex||(this.d_activeIndex=e,this.$emit("update:activeIndex",this.d_activeIndex),this.$emit("tab-change",{originalEvent:n,index:e}),this.updateScrollBar(e)),this.$emit("tab-click",{originalEvent:n,index:e})},onTabKeydown:function(n,e){13===n.which&&this.onTabClick(n,e)},updateInkBar:function(){if(this.$refs.nav.children.length>1){var e=this.$refs.nav.children[this.d_activeIndex];this.$refs.inkbar.style.width=n.DomHandler.getWidth(e)+"px",this.$refs.inkbar.style.left=n.DomHandler.getOffset(e).left-n.DomHandler.getOffset(this.$refs.nav).left+"px"}},updateScrollBar:function(n){this.$refs.nav.children[n].scrollIntoView({block:"nearest"})},updateButtonState:function(){var e=this.$refs.content,t=e.scrollLeft,a=e.scrollWidth,i=n.DomHandler.getWidth(e);this.backwardIsDisabled=0===t,this.forwardIsDisabled=parseInt(t)===a-i},getKey:function(e,t){return e.header?n.ObjectUtils.resolveFieldData(e,e.header):t},isTabDisabled:function(n){return n.disabled},onScroll:function(n){this.scrollable&&this.updateButtonState(),n.preventDefault()},getVisibleButtonWidths:function(){var e=this.$refs;return[e.prevBtn,e.nextBtn].reduce((function(e,t){return t?e+n.DomHandler.getWidth(t):e}),0)},navBackward:function(){var e=this.$refs.content,t=n.DomHandler.getWidth(e)-this.getVisibleButtonWidths(),a=e.scrollLeft-t;e.scrollLeft=a<=0?0:a},navForward:function(){var e=this.$refs.content,t=n.DomHandler.getWidth(e)-this.getVisibleButtonWidths(),a=e.scrollLeft+t,i=e.scrollWidth-t;e.scrollLeft=a>=i?i:a}},computed:{contentClasses:function(){return["p-tabview p-component",{"p-tabview-scrollable":this.scrollable}]},prevButtonClasses:function(){return["p-tabview-nav-prev p-tabview-nav-btn p-link",{"p-disabled":this.backwardIsDisabled}]},nextButtonClasses:function(){return["p-tabview-nav-next p-tabview-nav-btn p-link",{"p-disabled":this.forwardIsDisabled}]},tabs:function(){var n=[];return this.allChildren&&(n=this.allChildren.filter((function(n){return-1!==n.$vnode.tag.toLowerCase().indexOf("tabpanel")}))),n}},components:{TabPanelHeaderSlot:{functional:!0,props:{tab:{type:null,default:null}},render:function(n,e){return[e.props.tab.$scopedSlots.header()]}}},directives:{ripple:t(e).default}};function i(n,e,t,a,i,s,l,r,o,d){"boolean"!=typeof l&&(o=r,r=l,l=!1);const A="function"==typeof t?t.options:t;let c;if(n&&n.render&&(A.render=n.render,A.staticRenderFns=n.staticRenderFns,A._compiled=!0,i&&(A.functional=!0)),a&&(A._scopeId=a),s?(c=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),e&&e.call(this,o(n)),n&&n._registeredComponents&&n._registeredComponents.add(s)},A._ssrRegister=c):e&&(c=l?function(n){e.call(this,d(n,this.$root.$options.shadowRoot))}:function(n){e.call(this,r(n))}),c)if(A.functional){const n=A.render;A.render=function(e,t){return c.call(t),n(e,t)}}else{const n=A.beforeCreate;A.beforeCreate=n?[].concat(n,c):[c]}return t}const s="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function l(n){return(n,e)=>d(n,e)}let r;const o={};function d(n,e){const t=s?e.media||"default":n,a=o[t]||(o[t]={ids:new Set,styles:[]});if(!a.ids.has(n)){a.ids.add(n);let t=e.source;if(e.map&&(t+="\n/*# sourceURL="+e.map.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",e.media&&a.element.setAttribute("media",e.media),void 0===r&&(r=document.head||document.getElementsByTagName("head")[0]),r.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(t),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{const n=a.ids.size-1,e=document.createTextNode(t),i=a.element.childNodes;i[n]&&a.element.removeChild(i[n]),i.length?a.element.insertBefore(e,i[n]):a.element.appendChild(e)}}}var A=a,c=function(){var n=this,e=n._self._c||n.$createElement;return e("div",{class:n.contentClasses},[e("div",{staticClass:"p-tabview-nav-container"},[n.scrollable&&!n.backwardIsDisabled?e("button",{directives:[{name:"ripple",rawName:"v-ripple"}],ref:"prevBtn",class:n.prevButtonClasses,attrs:{disabled:n.backwardIsDisabled,type:"button"},on:{click:n.navBackward}},[e("span",{staticClass:"pi pi-chevron-left"})]):n._e(),n._v(" "),e("div",{ref:"content",staticClass:"p-tabview-nav-content",on:{scroll:n.onScroll}},[e("ul",{ref:"nav",staticClass:"p-tabview-nav",attrs:{role:"tablist"}},[n._l(n.tabs,(function(t,a){return e("li",{key:n.getKey(t,a),class:[{"p-highlight":n.d_activeIndex===a,"p-disabled":n.isTabDisabled(t)}],attrs:{role:"presentation"}},[e("a",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"p-tabview-nav-link",attrs:{role:"tab",tabindex:n.isTabDisabled(t)?null:"0","aria-selected":n.d_activeIndex},on:{click:function(e){return n.onTabClick(e,a)},keydown:function(e){return n.onTabKeydown(e,a)}}},[t.header?e("span",{staticClass:"p-tabview-title"},[n._v(n._s(t.header))]):n._e(),n._v(" "),t.$scopedSlots.header?e("TabPanelHeaderSlot",{attrs:{tab:t}}):n._e()],1)])})),n._v(" "),e("li",{ref:"inkbar",staticClass:"p-tabview-ink-bar"})],2)]),n._v(" "),n.scrollable&&!n.forwardIsDisabled?e("button",{directives:[{name:"ripple",rawName:"v-ripple"}],ref:"nextBtn",class:n.nextButtonClasses,attrs:{disabled:n.forwardIsDisabled,type:"button"},on:{click:n.navForward}},[e("span",{staticClass:"pi pi-chevron-right"})]):n._e()]),n._v(" "),e("div",{staticClass:"p-tabview-panels"},[n._t("default")],2)])};c._withStripped=!0;module.exports=i({render:c,staticRenderFns:[]},(function(n){n&&n("data-v-14581614_0",{source:"\n.p-tabview-nav-container {\n  position: relative;\n}\n.p-tabview-scrollable .p-tabview-nav-container {\n  overflow: hidden;\n}\n.p-tabview-nav-content {\n  overflow-x: auto;\n  overflow-y: hidden;\n  scroll-behavior: smooth;\n  scrollbar-width: none;\n  -ms-scroll-chaining: contain auto;\n      overscroll-behavior: contain auto;\n}\n.p-tabview-nav {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1 1 auto;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n}\n.p-tabview-nav-link {\n  cursor: pointer;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  position: relative;\n  text-decoration: none;\n  overflow: hidden;\n}\n.p-tabview-ink-bar {\n  display: none;\n  z-index: 1;\n}\n.p-tabview-nav-link:focus {\n  z-index: 1;\n}\n.p-tabview-title {\n  line-height: 1;\n  white-space: nowrap;\n}\n.p-tabview-nav-btn {\n  position: absolute;\n  top: 0;\n  z-index: 2;\n  height: 100%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.p-tabview-nav-prev {\n  left: 0;\n}\n.p-tabview-nav-next {\n  right: 0;\n}\n.p-tabview-nav-content::-webkit-scrollbar {\n  display: none;\n}\n",map:{version:3,sources:["/Users/nangongpo/Desktop/我的开源/primevue2/src/components/tabview/TabView.vue"],names:[],mappings:";AAyMA;EACA,kBAAA;AACA;AAEA;EACA,gBAAA;AACA;AAEA;EACA,gBAAA;EACA,kBAAA;EACA,uBAAA;EACA,qBAAA;EACA,iCAAA;MAAA,iCAAA;AACA;AAEA;EACA,oBAAA;EAAA,qBAAA;EAAA,oBAAA;EAAA,aAAA;EACA,SAAA;EACA,UAAA;EACA,qBAAA;EACA,mBAAA;EAAA,sBAAA;MAAA,kBAAA;UAAA,cAAA;AACA;AAEA;EACA,eAAA;EACA,yBAAA;KAAA,sBAAA;MAAA,qBAAA;UAAA,iBAAA;EACA,oBAAA;EAAA,qBAAA;EAAA,oBAAA;EAAA,aAAA;EACA,yBAAA;EAAA,2BAAA;MAAA,sBAAA;UAAA,mBAAA;EACA,kBAAA;EACA,qBAAA;EACA,gBAAA;AACA;AAEA;EACA,aAAA;EACA,UAAA;AACA;AAEA;EACA,UAAA;AACA;AAEA;EACA,cAAA;EACA,mBAAA;AACA;AAEA;EACA,kBAAA;EACA,MAAA;EACA,UAAA;EACA,YAAA;EACA,oBAAA;EAAA,qBAAA;EAAA,oBAAA;EAAA,aAAA;EACA,yBAAA;EAAA,2BAAA;MAAA,sBAAA;UAAA,mBAAA;EACA,wBAAA;EAAA,+BAAA;MAAA,qBAAA;UAAA,uBAAA;AACA;AAEA;EACA,OAAA;AACA;AAEA;EACA,QAAA;AACA;AAEA;EACA,aAAA;AACA",file:"TabView.vue",sourcesContent:['<template>\n  <div :class="contentClasses">\n    <div class="p-tabview-nav-container">\n      <button\n        v-if="scrollable && !backwardIsDisabled"\n        ref="prevBtn"\n        :class="prevButtonClasses"\n        :disabled="backwardIsDisabled"\n        @click="navBackward"\n        type="button"\n        v-ripple>\n        <span class="pi pi-chevron-left"></span>\n      </button>\n      <div ref="content" class="p-tabview-nav-content" @scroll="onScroll">\n        <ul ref="nav" class="p-tabview-nav" role="tablist">\n          <li\n            role="presentation"\n            v-for="(tab, i) of tabs"\n            :key="getKey(tab, i)"\n            :class="[{ \'p-highlight\': d_activeIndex === i, \'p-disabled\': isTabDisabled(tab) }]">\n            <a\n              role="tab"\n              class="p-tabview-nav-link"\n              @click="onTabClick($event, i)"\n              @keydown="onTabKeydown($event, i)"\n              :tabindex="isTabDisabled(tab) ? null : \'0\'"\n              :aria-selected="d_activeIndex"\n              v-ripple>\n              <span class="p-tabview-title" v-if="tab.header">{{ tab.header }}</span>\n              <TabPanelHeaderSlot :tab="tab" v-if="tab.$scopedSlots.header" />\n            </a>\n          </li>\n          <li ref="inkbar" class="p-tabview-ink-bar"></li>\n        </ul>\n      </div>\n      <button\n        v-if="scrollable && !forwardIsDisabled"\n        ref="nextBtn"\n        :class="nextButtonClasses"\n        :disabled="forwardIsDisabled"\n        @click="navForward"\n        type="button"\n        v-ripple>\n        <span class="pi pi-chevron-right"></span>\n      </button>\n    </div>\n    <div class="p-tabview-panels">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { DomHandler, ObjectUtils } from \'primevue2/utils\'\nimport Ripple from \'primevue2/ripple\'\n\nconst TabPanelHeaderSlot = {\n  functional: true,\n  props: {\n    tab: {\n      type: null,\n      default: null\n    }\n  },\n  render(createElement, context) {\n    return [context.props.tab.$scopedSlots[\'header\']()]\n  }\n}\n\nexport default {\n  props: {\n    activeIndex: {\n      type: Number,\n      default: 0\n    },\n    scrollable: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      allChildren: [],\n      d_activeIndex: this.activeIndex,\n      backwardIsDisabled: true,\n      forwardIsDisabled: false\n    }\n  },\n  watch: {\n    activeIndex(newValue) {\n      this.d_activeIndex = newValue\n\n      this.updateScrollBar(newValue)\n    }\n  },\n  mounted() {\n    this.allChildren = this.$children\n    this.updateInkBar()\n  },\n  updated() {\n    this.updateInkBar()\n  },\n  methods: {\n    onTabClick(event, i) {\n      if (!this.isTabDisabled(this.tabs[i]) && i !== this.d_activeIndex) {\n        this.d_activeIndex = i\n        this.$emit(\'update:activeIndex\', this.d_activeIndex)\n\n        this.$emit(\'tab-change\', {\n          originalEvent: event,\n          index: i\n        })\n\n        this.updateScrollBar(i)\n      }\n\n      this.$emit(\'tab-click\', {\n        originalEvent: event,\n        index: i\n      })\n    },\n    onTabKeydown(event, i) {\n      if (event.which === 13) {\n        this.onTabClick(event, i)\n      }\n    },\n    updateInkBar() {\n      if (this.$refs.nav.children.length > 1) {\n        let tabHeader = this.$refs.nav.children[this.d_activeIndex]\n        this.$refs.inkbar.style.width = DomHandler.getWidth(tabHeader) + \'px\'\n        this.$refs.inkbar.style.left = DomHandler.getOffset(tabHeader).left - DomHandler.getOffset(this.$refs.nav).left + \'px\'\n      }\n    },\n    updateScrollBar(index) {\n      let tabHeader = this.$refs.nav.children[index]\n      tabHeader.scrollIntoView({ block: \'nearest\' })\n    },\n    updateButtonState() {\n      const content = this.$refs.content\n      const { scrollLeft, scrollWidth } = content\n      const width = DomHandler.getWidth(content)\n      this.backwardIsDisabled = scrollLeft === 0\n      this.forwardIsDisabled = parseInt(scrollLeft) === scrollWidth - width\n    },\n    getKey(tab, index) {\n      return tab.header ? ObjectUtils.resolveFieldData(tab, tab.header) : index\n    },\n    isTabDisabled(tab) {\n      return tab.disabled\n    },\n    onScroll(event) {\n      this.scrollable && this.updateButtonState()\n      event.preventDefault()\n    },\n    getVisibleButtonWidths() {\n      const { prevBtn, nextBtn } = this.$refs\n      return [prevBtn, nextBtn].reduce((acc, el) => el ? acc + DomHandler.getWidth(el) : acc, 0)\n    },\n    navBackward() {\n      const content = this.$refs.content\n      const width = DomHandler.getWidth(content) - this.getVisibleButtonWidths()\n      const pos = content.scrollLeft - width\n      content.scrollLeft = pos <= 0 ? 0 : pos\n    },\n    navForward() {\n      const content = this.$refs.content\n      const width = DomHandler.getWidth(content) - this.getVisibleButtonWidths()\n      const pos = content.scrollLeft + width\n      const lastPos = content.scrollWidth - width\n      content.scrollLeft = pos >= lastPos ? lastPos : pos\n    }\n  },\n  computed: {\n    contentClasses() {\n      return [\'p-tabview p-component\', { \'p-tabview-scrollable\': this.scrollable }]\n    },\n    prevButtonClasses() {\n      return [\'p-tabview-nav-prev p-tabview-nav-btn p-link\', { \'p-disabled\': this.backwardIsDisabled }]\n    },\n    nextButtonClasses() {\n      return [\'p-tabview-nav-next p-tabview-nav-btn p-link\', { \'p-disabled\': this.forwardIsDisabled }]\n    },\n    tabs() {\n      let tabs = []\n      if (this.allChildren) {\n        tabs = this.allChildren.filter(child => child.$vnode.tag.toLowerCase().indexOf(\'tabpanel\') !== -1)\n      }\n\n      return tabs\n    }\n  },\n  components: {\n    \'TabPanelHeaderSlot\': TabPanelHeaderSlot\n  },\n  directives: {\n    \'ripple\': Ripple\n  }\n}\n<\/script>\n\n<style>\n.p-tabview-nav-container {\n  position: relative;\n}\n\n.p-tabview-scrollable .p-tabview-nav-container {\n  overflow: hidden;\n}\n\n.p-tabview-nav-content {\n  overflow-x: auto;\n  overflow-y: hidden;\n  scroll-behavior: smooth;\n  scrollbar-width: none;\n  overscroll-behavior: contain auto;\n}\n\n.p-tabview-nav {\n  display: flex;\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n  flex: 1 1 auto;\n}\n\n.p-tabview-nav-link {\n  cursor: pointer;\n  user-select: none;\n  display: flex;\n  align-items: center;\n  position: relative;\n  text-decoration: none;\n  overflow: hidden;\n}\n\n.p-tabview-ink-bar {\n  display: none;\n  z-index: 1;\n}\n\n.p-tabview-nav-link:focus {\n  z-index: 1;\n}\n\n.p-tabview-title {\n  line-height: 1;\n  white-space: nowrap;\n}\n\n.p-tabview-nav-btn {\n  position: absolute;\n  top: 0;\n  z-index: 2;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.p-tabview-nav-prev {\n  left: 0;\n}\n\n.p-tabview-nav-next {\n  right: 0;\n}\n\n.p-tabview-nav-content::-webkit-scrollbar {\n  display: none;\n}\n</style>\n']},media:void 0})}),A,undefined,false,undefined,!1,l,void 0,void 0);
