this.primevue2=this.primevue2||{},this.primevue2.tree=function(e,n){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=l(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return r=e.done,e},e:function(e){c=!0,s=e},f:function(){try{r||null==t.return||t.return()}finally{if(c)throw s}}}}function l(e,n){if(e){if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n,t){var o;return(n="symbol"==i(o=a(n,"string"))?o:o+"")in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,n||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}function u(e,n,t,i,o,l,s,r,c,d){"boolean"!=typeof s&&(c=r,r=s,s=!1);const a="function"==typeof t?t.options:t;let u;if(e&&e.render&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns,a._compiled=!0,o&&(a.functional=!0)),i&&(a._scopeId=i),l?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(l)},a._ssrRegister=u):n&&(u=s?function(e){n.call(this,d(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,r(e))}),u)if(a.functional){const e=a.render;a.render=function(n,t){return u.call(t),e(n,t)}}else{const e=a.beforeCreate;a.beforeCreate=e?[].concat(e,u):[u]}return t}var h={name:"sub-treenode",props:{node:{type:null,default:null},expandedKeys:{type:null,default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},templates:{type:null,default:null}},nodeTouched:!1,methods:{toggle:function(){this.$emit("node-toggle",this.node)},onChildNodeToggle:function(e){this.$emit("node-toggle",e)},onClick:function(n){e.DomHandler.hasClass(n.target,"p-tree-toggler")||e.DomHandler.hasClass(n.target.parentElement,"p-tree-toggler")||(this.isCheckboxSelectionMode()?this.toggleCheckbox():this.$emit("node-click",{originalEvent:n,nodeTouched:this.nodeTouched,node:this.node}),this.nodeTouched=!1)},onChildNodeClick:function(e){this.$emit("node-click",e)},onTouchEnd:function(){this.nodeTouched=!0},onKeyDown:function(e){var n=e.target.parentElement;switch(e.which){case 40:var t=n.children[1];if(t)this.focusNode(t.children[0]);else{var i=n.nextElementSibling;if(i)this.focusNode(i);else{var o=this.findNextSiblingOfAncestor(n);o&&this.focusNode(o)}}e.preventDefault();break;case 38:if(n.previousElementSibling)this.focusNode(this.findLastVisibleDescendant(n.previousElementSibling));else{var l=this.getParentNodeElement(n);l&&this.focusNode(l)}e.preventDefault();break;case 37:case 39:this.$emit("node-toggle",this.node),e.preventDefault();break;case 13:this.onClick(e),e.preventDefault()}},toggleCheckbox:function(){var e=this.selectionKeys?c({},this.selectionKeys):{},n=!this.checked;this.propagateDown(this.node,n,e),this.$emit("checkbox-change",{node:this.node,check:n,selectionKeys:e})},propagateDown:function(e,n,t){if(n?t[e.key]={checked:!0,partialChecked:!1}:delete t[e.key],e.children&&e.children.length){var i,l=o(e.children);try{for(l.s();!(i=l.n()).done;){this.propagateDown(i.value,n,t)}}catch(e){l.e(e)}finally{l.f()}}},propagateUp:function(e){var n,t=e.check,i=c({},e.selectionKeys),l=0,s=!1,r=o(this.node.children);try{for(r.s();!(n=r.n()).done;){var d=n.value;i[d.key]&&i[d.key].checked?l++:i[d.key]&&i[d.key].partialChecked&&(s=!0)}}catch(e){r.e(e)}finally{r.f()}t&&l===this.node.children.length?i[this.node.key]={checked:!0,partialChecked:!1}:(t||delete i[this.node.key],i[this.node.key]=s||l>0&&l!==this.node.children.length?{checked:!1,partialChecked:!0}:{checked:!1,partialChecked:!1}),this.$emit("checkbox-change",{node:e.node,check:e.check,selectionKeys:i})},onChildCheckboxChange:function(e){this.$emit("checkbox-change",e)},findNextSiblingOfAncestor:function(e){var n=this.getParentNodeElement(e);return n?n.nextElementSibling?n.nextElementSibling:this.findNextSiblingOfAncestor(n):null},findLastVisibleDescendant:function(e){var n=e.children[1];return n?this.findLastVisibleDescendant(n.children[n.children.length-1]):e},getParentNodeElement:function(n){var t=n.parentElement.parentElement;return e.DomHandler.hasClass(t,"p-treenode")?t:null},focusNode:function(e){e.children[0].focus()},isCheckboxSelectionMode:function(){return"checkbox"===this.selectionMode}},computed:{hasChildren:function(){return this.node.children&&this.node.children.length>0},expanded:function(){return this.expandedKeys&&!0===this.expandedKeys[this.node.key]},leaf:function(){return!1!==this.node.leaf&&!(this.node.children&&this.node.children.length)},selectable:function(){return!1!==this.node.selectable&&null!=this.selectionMode},selected:function(){return!(!this.selectionMode||!this.selectionKeys)&&!0===this.selectionKeys[this.node.key]},containerClass:function(){return["p-treenode",{"p-treenode-leaf":this.leaf}]},contentClass:function(){return["p-treenode-content",this.node.styleClass,{"p-treenode-selectable":this.selectable,"p-highlight":this.checkboxMode?this.checked:this.selected}]},icon:function(){return["p-treenode-icon",this.node.icon]},toggleIcon:function(){return["p-tree-toggler-icon pi pi-fw",{"pi-chevron-down":this.expanded,"pi-chevron-right":!this.expanded}]},checkboxClass:function(){return["p-checkbox-box",{"p-highlight":this.checked,"p-indeterminate":this.partialChecked}]},checkboxIcon:function(){return["p-checkbox-icon",{"pi pi-check":this.checked,"pi pi-minus":this.partialChecked}]},checkboxMode:function(){return"checkbox"===this.selectionMode&&!1!==this.node.selectable},checked:function(){return!!this.selectionKeys&&(this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].checked)},partialChecked:function(){return!!this.selectionKeys&&(this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].partialChecked)}},components:{TreeNodeTemplate:{functional:!0,props:{node:{type:null,default:null},template:{type:null,default:null}},render:function(e,n){var t;return[n.props.template?n.props.template({node:n.props.node}):"function"==typeof(t=n.props.node).label?t.label():t.label]}}},directives:{ripple:t(n).default}},p=function(){var e=this,n=e._self._c||e.$createElement;return n("li",{class:e.containerClass},[n("div",{class:e.contentClass,style:e.node.style,attrs:{tabindex:"0",role:"treeitem","aria-expanded":e.expanded},on:{click:e.onClick,keydown:e.onKeyDown,touchend:e.onTouchEnd}},[n("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"p-tree-toggler p-link",attrs:{type:"button",tabindex:"-1"},on:{click:e.toggle}},[n("span",{class:e.toggleIcon})]),e._v(" "),e.checkboxMode?n("div",{staticClass:"p-checkbox p-component"},[n("div",{class:e.checkboxClass,attrs:{role:"checkbox","aria-checked":e.checked}},[n("span",{class:e.checkboxIcon})])]):e._e(),e._v(" "),n("span",{class:e.icon}),e._v(" "),n("span",{staticClass:"p-treenode-label"},[n("TreeNodeTemplate",{attrs:{node:e.node,template:e.templates[e.node.type]||e.templates.default}})],1)]),e._v(" "),e.hasChildren&&e.expanded?n("ul",{staticClass:"p-treenode-children",attrs:{role:"group"}},e._l(e.node.children,(function(t){return n("sub-treenode",{key:t.key,attrs:{node:t,templates:e.templates,expandedKeys:e.expandedKeys,selectionMode:e.selectionMode,selectionKeys:e.selectionKeys},on:{"node-toggle":e.onChildNodeToggle,"node-click":e.onChildNodeClick,"checkbox-change":e.propagateUp}})})),1):e._e()])};p._withStripped=!0;function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function A(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=m(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,s=!0,r=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){r=!0,l=e},f:function(){try{s||null==t.return||t.return()}finally{if(r)throw l}}}}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,n){if(e){if("string"==typeof e)return b(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b(e,n):void 0}}function g(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function v(e){if(Array.isArray(e))return b(e)}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){x(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function x(e,n,t){var i;return(n="symbol"==f(i=K(n,"string"))?i:i+"")in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function K(e,n){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!=f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}var S={name:"Tree",props:{value:{type:null,default:null},expandedKeys:{type:null,default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},metaKeySelection:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:"pi pi-spinner"},filter:{type:Boolean,default:!1},filterBy:{type:String,default:"label"},filterMode:{type:String,default:"lenient"},filterPlaceholder:{type:String,default:null},filterLocale:{type:String,default:void 0}},data:function(){return{d_expandedKeys:this.expandedKeys||{},filterValue:null}},watch:{expandedKeys:function(e){this.d_expandedKeys=e}},methods:{onNodeToggle:function(e){var n=e.key;this.d_expandedKeys[n]?(delete this.d_expandedKeys[n],this.$emit("node-collapse",e)):(this.d_expandedKeys[n]=!0,this.$emit("node-expand",e)),this.d_expandedKeys=C({},this.d_expandedKeys),this.$emit("update:expandedKeys",this.d_expandedKeys)},onNodeClick:function(e){if(null!=this.selectionMode&&!1!==e.node.selectable){var n=!e.nodeTouched&&this.metaKeySelection?this.handleSelectionWithMetaKey(e):this.handleSelectionWithoutMetaKey(e);this.$emit("update:selectionKeys",n)}},onCheckboxChange:function(e){this.$emit("update:selectionKeys",e.selectionKeys),this.$emit(e.check?"node-select":"node-unselect",e.node)},handleSelectionWithMetaKey:function(e){var n,t=e.originalEvent,i=e.node,o=t.metaKey||t.ctrlKey;return this.isNodeSelected(i)&&o?(this.isSingleSelectionMode()?n={}:delete(n=C({},this.selectionKeys))[i.key],this.$emit("node-unselect",i)):(this.isSingleSelectionMode()?n={}:this.isMultipleSelectionMode()&&(n=o&&this.selectionKeys?C({},this.selectionKeys):{}),n[i.key]=!0,this.$emit("node-select",i)),n},handleSelectionWithoutMetaKey:function(e){var n,t=e.node,i=this.isNodeSelected(t);return this.isSingleSelectionMode()?i?(n={},this.$emit("node-unselect",t)):((n={})[t.key]=!0,this.$emit("node-select",t)):i?(delete(n=C({},this.selectionKeys))[t.key],this.$emit("node-unselect",t)):((n=this.selectionKeys?C({},this.selectionKeys):{})[t.key]=!0,this.$emit("node-select",t)),n},isSingleSelectionMode:function(){return"single"===this.selectionMode},isMultipleSelectionMode:function(){return"multiple"===this.selectionMode},isNodeSelected:function(e){return!(!this.selectionMode||!this.selectionKeys)&&!0===this.selectionKeys[e.key]},isChecked:function(e){return!!this.selectionKeys&&(this.selectionKeys[e.key]&&this.selectionKeys[e.key].checked)},isNodeLeaf:function(e){return!1!==e.leaf&&!(e.children&&e.children.length)},onFilterKeydown:function(e){13===e.which&&e.preventDefault()},findFilteredNodes:function(e,n){if(e){var t=!1;if(e.children){var i=v(r=e.children)||g(r)||m(r)||y();e.children=[];var o,l=A(i);try{for(l.s();!(o=l.n()).done;){var s=C({},o.value);this.isFilterMatched(s,n)&&(t=!0,e.children.push(s))}}catch(e){l.e(e)}finally{l.f()}}if(t)return!0}var r},isFilterMatched:function(n,t){var i,o=t.searchFields,l=t.filterText,s=t.strict,r=!1,c=A(o);try{for(c.s();!(i=c.n()).done;){String(e.ObjectUtils.resolveFieldData(n,i.value)).toLocaleLowerCase(this.filterLocale).indexOf(l)>-1&&(r=!0)}}catch(e){c.e(e)}finally{c.f()}return(!r||s&&!this.isNodeLeaf(n))&&(r=this.findFilteredNodes(n,{searchFields:o,filterText:l,strict:s})||r),r}},computed:{containerClass:function(){return["p-tree p-component",{"p-tree-selectable":null!=this.selectionMode,"p-tree-loading":this.loading}]},loadingIconClass:function(){return["p-tree-loading-icon pi-spin",this.loadingIcon]},filteredValue:function(){var e,n=[],t=this.filterBy.split(","),i=this.filterValue.trim().toLocaleLowerCase(this.filterLocale),o="strict"===this.filterMode,l=A(this.value);try{for(l.s();!(e=l.n()).done;){var s=C({},e.value),r={searchFields:t,filterText:i,strict:o};(o&&(this.findFilteredNodes(s,r)||this.isFilterMatched(s,r))||!o&&(this.isFilterMatched(s,r)||this.findFilteredNodes(s,r)))&&n.push(s)}}catch(e){l.e(e)}finally{l.f()}return n},valueToRender:function(){return this.filterValue&&this.filterValue.trim().length>0?this.filteredValue:this.value}},components:{TreeNode:u({render:p,staticRenderFns:[]},undefined,h,undefined,false,undefined,!1,void 0,void 0,void 0)}};const E="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function w(e){return(e,n)=>M(e,n)}let _;const N={};function M(e,n){const t=E?n.media||"default":e,i=N[t]||(N[t]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);let t=n.source;if(n.map&&(t+="\n/*# sourceURL="+n.map.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",n.media&&i.element.setAttribute("media",n.media),void 0===_&&(_=document.head||document.getElementsByTagName("head")[0]),_.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(t),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{const e=i.ids.size-1,n=document.createTextNode(t),o=i.element.childNodes;o[e]&&i.element.removeChild(o[e]),o.length?i.element.insertBefore(n,o[e]):i.element.appendChild(n)}}}var B=S,T=function(){var e=this,n=e._self._c||e.$createElement;return n("div",{class:e.containerClass},[e.loading?[n("div",{staticClass:"p-tree-loading-overlay p-component-overlay"},[n("i",{class:e.loadingIconClass})])]:e._e(),e._v(" "),e.filter?n("div",{staticClass:"p-tree-filter-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.filterValue,expression:"filterValue"}],staticClass:"p-tree-filter p-inputtext p-component",attrs:{type:"text",autocomplete:"off",placeholder:e.filterPlaceholder},domProps:{value:e.filterValue},on:{keydown:e.onFilterKeydown,input:function(n){n.target.composing||(e.filterValue=n.target.value)}}}),e._v(" "),n("span",{staticClass:"p-tree-filter-icon pi pi-search"})]):e._e(),e._v(" "),n("ul",{staticClass:"p-tree-container",attrs:{role:"tree"}},e._l(e.valueToRender,(function(t){return n("TreeNode",{key:t.key,attrs:{node:t,templates:e.$scopedSlots,expandedKeys:e.d_expandedKeys,selectionMode:e.selectionMode,selectionKeys:e.selectionKeys},on:{"node-toggle":e.onNodeToggle,"node-click":e.onNodeClick,"checkbox-change":e.onCheckboxChange}})})),1)],2)};T._withStripped=!0;return u({render:T,staticRenderFns:[]},(function(e){e&&e("data-v-85e63592_0",{source:"\n.p-tree-container {\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n  overflow: auto;\n}\n.p-treenode-children {\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n}\n.p-treenode-selectable {\n  cursor: pointer;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.p-tree-toggler {\n  cursor: pointer;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  display: -webkit-inline-box;\n  display: -webkit-inline-flex;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  overflow: hidden;\n  position: relative;\n  -webkit-flex-shrink: 0;\n      -ms-flex-negative: 0;\n          flex-shrink: 0;\n}\n.p-treenode-leaf > .p-treenode-content .p-tree-toggler {\n  visibility: hidden;\n}\n.p-treenode-content {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.p-tree-filter {\n  width: 100%;\n}\n.p-tree-filter-container {\n  position: relative;\n  display: block;\n  width: 100%;\n}\n.p-tree-filter-icon {\n  position: absolute;\n  top: 50%;\n  margin-top: -0.5rem;\n}\n.p-tree-loading {\n  position: relative;\n  min-height: 4rem;\n}\n.p-tree .p-tree-loading-overlay {\n  position: absolute;\n  z-index: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n",map:{version:3,sources:["/Users/nangongpo/Desktop/开源学习/primevue2/src/components/tree/Tree.vue"],names:[],mappings:";AAwTA;EACA,SAAA;EACA,UAAA;EACA,qBAAA;EACA,cAAA;AACA;AAEA;EACA,SAAA;EACA,UAAA;EACA,qBAAA;AACA;AAEA;EACA,eAAA;EACA,yBAAA;KAAA,sBAAA;MAAA,qBAAA;UAAA,iBAAA;AACA;AAEA;EACA,eAAA;EACA,yBAAA;KAAA,sBAAA;MAAA,qBAAA;UAAA,iBAAA;EACA,2BAAA;EAAA,4BAAA;EAAA,2BAAA;EAAA,oBAAA;EACA,yBAAA;EAAA,2BAAA;MAAA,sBAAA;UAAA,mBAAA;EACA,wBAAA;EAAA,+BAAA;MAAA,qBAAA;UAAA,uBAAA;EACA,gBAAA;EACA,kBAAA;EACA,sBAAA;MAAA,oBAAA;UAAA,cAAA;AACA;AAEA;EACA,kBAAA;AACA;AAEA;EACA,oBAAA;EAAA,qBAAA;EAAA,oBAAA;EAAA,aAAA;EACA,yBAAA;EAAA,2BAAA;MAAA,sBAAA;UAAA,mBAAA;AACA;AAEA;EACA,WAAA;AACA;AAEA;EACA,kBAAA;EACA,cAAA;EACA,WAAA;AACA;AAEA;EACA,kBAAA;EACA,QAAA;EACA,mBAAA;AACA;AAEA;EACA,kBAAA;EACA,gBAAA;AACA;AAEA;EACA,kBAAA;EACA,UAAA;EACA,oBAAA;EAAA,qBAAA;EAAA,oBAAA;EAAA,aAAA;EACA,yBAAA;EAAA,2BAAA;MAAA,sBAAA;UAAA,mBAAA;EACA,wBAAA;EAAA,+BAAA;MAAA,qBAAA;UAAA,uBAAA;AACA",file:"Tree.vue",sourcesContent:["<template>\n  <div :class=\"containerClass\">\n    <template v-if=\"loading\">\n      <div class=\"p-tree-loading-overlay p-component-overlay\">\n        <i :class=\"loadingIconClass\" />\n      </div>\n    </template>\n    <div class=\"p-tree-filter-container\" v-if=\"filter\">\n      <input\n        type=\"text\"\n        autocomplete=\"off\"\n        class=\"p-tree-filter p-inputtext p-component\"\n        :placeholder=\"filterPlaceholder\"\n        @keydown=\"onFilterKeydown\"\n        v-model=\"filterValue\" />\n      <span class=\"p-tree-filter-icon pi pi-search\"></span>\n    </div>\n    <ul class=\"p-tree-container\" role=\"tree\">\n      <TreeNode\n        v-for=\"node of valueToRender\"\n        :key=\"node.key\"\n        :node=\"node\"\n        :templates=\"$scopedSlots\"\n        :expandedKeys=\"d_expandedKeys\"\n        @node-toggle=\"onNodeToggle\"\n        @node-click=\"onNodeClick\"\n        :selectionMode=\"selectionMode\"\n        :selectionKeys=\"selectionKeys\"\n        @checkbox-change=\"onCheckboxChange\"></TreeNode>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport TreeNode from './TreeNode.vue'\nimport { ObjectUtils } from 'primevue2/utils'\n\nexport default {\n  name: 'Tree',\n  props: {\n    value: {\n      type: null,\n      default: null\n    },\n    expandedKeys: {\n      type: null,\n      default: null\n    },\n    selectionKeys: {\n      type: null,\n      default: null\n    },\n    selectionMode: {\n      type: String,\n      default: null\n    },\n    metaKeySelection: {\n      type: Boolean,\n      default: true\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    loadingIcon: {\n      type: String,\n      default: 'pi pi-spinner'\n    },\n    filter: {\n      type: Boolean,\n      default: false\n    },\n    filterBy: {\n      type: String,\n      default: 'label'\n    },\n    filterMode: {\n      type: String,\n      default: 'lenient'\n    },\n    filterPlaceholder: {\n      type: String,\n      default: null\n    },\n    filterLocale: {\n      type: String,\n      default: undefined\n    }\n  },\n  data() {\n    return {\n      d_expandedKeys: this.expandedKeys || {},\n      filterValue: null\n    }\n  },\n  watch: {\n    expandedKeys(newValue) {\n      this.d_expandedKeys = newValue\n    }\n  },\n  methods: {\n    onNodeToggle(node) {\n      const key = node.key\n\n      if (this.d_expandedKeys[key]) {\n        delete this.d_expandedKeys[key]\n        this.$emit('node-collapse', node)\n      } else {\n        this.d_expandedKeys[key] = true\n        this.$emit('node-expand', node)\n      }\n\n      this.d_expandedKeys = { ...this.d_expandedKeys }\n      this.$emit('update:expandedKeys', this.d_expandedKeys)\n    },\n    onNodeClick(event) {\n      if (this.selectionMode != null && event.node.selectable !== false) {\n        const metaSelection = event.nodeTouched ? false : this.metaKeySelection\n        const _selectionKeys = metaSelection\n          ? this.handleSelectionWithMetaKey(event)\n          : this.handleSelectionWithoutMetaKey(event)\n\n        this.$emit('update:selectionKeys', _selectionKeys)\n      }\n    },\n    onCheckboxChange(event) {\n      this.$emit('update:selectionKeys', event.selectionKeys)\n\n      if (event.check) this.$emit('node-select', event.node)\n      else this.$emit('node-unselect', event.node)\n    },\n    handleSelectionWithMetaKey(event) {\n      const originalEvent = event.originalEvent\n      const node = event.node\n      const metaKey = originalEvent.metaKey || originalEvent.ctrlKey\n      const selected = this.isNodeSelected(node)\n      let _selectionKeys\n\n      if (selected && metaKey) {\n        if (this.isSingleSelectionMode()) {\n          _selectionKeys = {}\n        } else {\n          _selectionKeys = { ...this.selectionKeys }\n          delete _selectionKeys[node.key]\n        }\n\n        this.$emit('node-unselect', node)\n      } else {\n        if (this.isSingleSelectionMode()) {\n          _selectionKeys = {}\n        } else if (this.isMultipleSelectionMode()) {\n          _selectionKeys = !metaKey\n            ? {}\n            : this.selectionKeys\n              ? { ...this.selectionKeys }\n              : {}\n        }\n\n        _selectionKeys[node.key] = true\n        this.$emit('node-select', node)\n      }\n\n      return _selectionKeys\n    },\n    handleSelectionWithoutMetaKey(event) {\n      const node = event.node\n      const selected = this.isNodeSelected(node)\n      let _selectionKeys\n\n      if (this.isSingleSelectionMode()) {\n        if (selected) {\n          _selectionKeys = {}\n          this.$emit('node-unselect', node)\n        } else {\n          _selectionKeys = {}\n          _selectionKeys[node.key] = true\n          this.$emit('node-select', node)\n        }\n      } else {\n        if (selected) {\n          _selectionKeys = { ...this.selectionKeys }\n          delete _selectionKeys[node.key]\n\n          this.$emit('node-unselect', node)\n        } else {\n          _selectionKeys = this.selectionKeys ? { ...this.selectionKeys } : {}\n          _selectionKeys[node.key] = true\n\n          this.$emit('node-select', node)\n        }\n      }\n\n      return _selectionKeys\n    },\n    isSingleSelectionMode() {\n      return this.selectionMode === 'single'\n    },\n    isMultipleSelectionMode() {\n      return this.selectionMode === 'multiple'\n    },\n    isNodeSelected(node) {\n      return this.selectionMode && this.selectionKeys\n        ? this.selectionKeys[node.key] === true\n        : false\n    },\n    isChecked(node) {\n      return this.selectionKeys\n        ? this.selectionKeys[node.key] && this.selectionKeys[node.key].checked\n        : false\n    },\n    isNodeLeaf(node) {\n      return node.leaf === false\n        ? false\n        : !(node.children && node.children.length)\n    },\n    onFilterKeydown(event) {\n      if (event.which === 13) {\n        event.preventDefault()\n      }\n    },\n    findFilteredNodes(node, paramsWithoutNode) {\n      if (node) {\n        let matched = false\n        if (node.children) {\n          let childNodes = [...node.children]\n          node.children = []\n          for (let childNode of childNodes) {\n            let copyChildNode = { ...childNode }\n            if (this.isFilterMatched(copyChildNode, paramsWithoutNode)) {\n              matched = true\n              node.children.push(copyChildNode)\n            }\n          }\n        }\n\n        if (matched) {\n          return true\n        }\n      }\n    },\n    isFilterMatched(node, { searchFields, filterText, strict }) {\n      let matched = false\n      for (let field of searchFields) {\n        let fieldValue = String(\n          ObjectUtils.resolveFieldData(node, field)\n        ).toLocaleLowerCase(this.filterLocale)\n        if (fieldValue.indexOf(filterText) > -1) {\n          matched = true\n        }\n      }\n\n      if (!matched || (strict && !this.isNodeLeaf(node))) {\n        matched =\n          this.findFilteredNodes(node, { searchFields, filterText, strict }) ||\n          matched\n      }\n\n      return matched\n    }\n  },\n  computed: {\n    containerClass() {\n      return [\n        'p-tree p-component',\n        {\n          'p-tree-selectable': this.selectionMode != null,\n          'p-tree-loading': this.loading\n        }\n      ]\n    },\n    loadingIconClass() {\n      return ['p-tree-loading-icon pi-spin', this.loadingIcon]\n    },\n    filteredValue() {\n      let filteredNodes = []\n      const searchFields = this.filterBy.split(',')\n      const filterText = this.filterValue\n        .trim()\n        .toLocaleLowerCase(this.filterLocale)\n      const strict = this.filterMode === 'strict'\n\n      for (let node of this.value) {\n        let _node = { ...node }\n        let paramsWithoutNode = { searchFields, filterText, strict }\n\n        if (\n          (strict &&\n            (this.findFilteredNodes(_node, paramsWithoutNode) ||\n              this.isFilterMatched(_node, paramsWithoutNode))) ||\n          (!strict &&\n            (this.isFilterMatched(_node, paramsWithoutNode) ||\n              this.findFilteredNodes(_node, paramsWithoutNode)))\n        ) {\n          filteredNodes.push(_node)\n        }\n      }\n\n      return filteredNodes\n    },\n    valueToRender() {\n      if (this.filterValue && this.filterValue.trim().length > 0)\n        return this.filteredValue\n      else return this.value\n    }\n  },\n  components: {\n    TreeNode: TreeNode\n  }\n}\n<\/script>\n\n<style>\n.p-tree-container {\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n  overflow: auto;\n}\n\n.p-treenode-children {\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n}\n\n.p-treenode-selectable {\n  cursor: pointer;\n  user-select: none;\n}\n\n.p-tree-toggler {\n  cursor: pointer;\n  user-select: none;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  position: relative;\n  flex-shrink: 0;\n}\n\n.p-treenode-leaf > .p-treenode-content .p-tree-toggler {\n  visibility: hidden;\n}\n\n.p-treenode-content {\n  display: flex;\n  align-items: center;\n}\n\n.p-tree-filter {\n  width: 100%;\n}\n\n.p-tree-filter-container {\n  position: relative;\n  display: block;\n  width: 100%;\n}\n\n.p-tree-filter-icon {\n  position: absolute;\n  top: 50%;\n  margin-top: -0.5rem;\n}\n\n.p-tree-loading {\n  position: relative;\n  min-height: 4rem;\n}\n\n.p-tree .p-tree-loading-overlay {\n  position: absolute;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n</style>\n"]},media:void 0})}),B,undefined,false,undefined,!1,w,void 0,void 0)}(primevue2.utils,primevue2.ripple);
