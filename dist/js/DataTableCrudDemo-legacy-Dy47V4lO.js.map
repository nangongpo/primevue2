{"version":3,"file":"DataTableCrudDemo-legacy-Dy47V4lO.js","sources":["../../src/views/datatable/DataTableCrudDemo.vue"],"sourcesContent":["<template>\n\t<div>\n\t\t<div class=\"content-section introduction\">\n\t\t\t<div class=\"feature-intro\">\n\t\t\t\t<h1>DataTable <span>Crud</span></h1>\n\t\t\t\t<p>This sample demonstrates a CRUD implementation using various PrimeVue components.</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"content-section implementation\">\n            <div class=\"card\">\n                <Toolbar class=\"mb-4\">\n                    <template #start>\n                        <Button label=\"New\" icon=\"pi pi-plus\" class=\"p-button-success mr-2\" @click=\"openNew\" />\n                        <Button label=\"Delete\" icon=\"pi pi-trash\" class=\"p-button-danger\" @click=\"confirmDeleteSelected\" :disabled=\"!selectedProducts || !selectedProducts.length\" />\n                    </template>\n\n                    <template #end>\n                        <FileUpload mode=\"basic\" accept=\"image/*\" :maxFileSize=\"1000000\" label=\"Import\" chooseLabel=\"Import\" class=\"mr-2 inline-block\" />\n                        <Button label=\"Export\" icon=\"pi pi-upload\" class=\"p-button-help\" @click=\"exportCSV($event)\"  />\n                    </template>\n                </Toolbar>\n\n                <DataTable ref=\"dt\" :value=\"products\" :selection.sync=\"selectedProducts\" dataKey=\"id\"\n                    :paginator=\"true\" :rows=\"10\" :filters=\"filters\"\n                    paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\" :rowsPerPageOptions=\"[5,10,25]\"\n                    currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} products\" responsiveLayout=\"scroll\">\n                    <template #header>\n                        <div class=\"table-header flex flex-column md:flex-row md:justify-content-between\">\n\t\t\t\t\t\t\t<h5 class=\"mb-2 md:m-0 md:align-self-center\">Manage Products</h5>\n\t\t\t\t\t\t\t<span class=\"p-input-icon-left\">\n                                <i class=\"pi pi-search\" />\n                                <InputText v-model=\"filters['global'].value\" placeholder=\"Search...\" />\n                            </span>\n\t\t\t\t\t\t</div>\n                    </template>\n\n                    <Column selectionMode=\"multiple\" :styless=\"{width: '3rem'}\" :exportable=\"false\"></Column>\n                    <Column field=\"code\" header=\"Code\" :sortable=\"true\" :styles=\"{'min-width':'12rem'}\"></Column>\n                    <Column field=\"name\" header=\"Name\" :sortable=\"true\" :styles=\"{'min-width':'16rem'}\"></Column>\n                    <Column header=\"Image\">\n                        <template #body=\"slotProps\">\n                            <img :src=\"$publicUrl('demo/images/product/' + slotProps.data.image)\" :alt=\"slotProps.data.image\" class=\"product-image\" />\n                        </template>\n                    </Column>\n                    <Column field=\"price\" header=\"Price\" :sortable=\"true\" :styles=\"{'min-width':'8rem'}\">\n                        <template #body=\"slotProps\">\n                            {{formatCurrency(slotProps.data.price)}}\n                        </template>\n                    </Column>\n                    <Column field=\"category\" header=\"Category\" :sortable=\"true\" :styles=\"{'min-width':'10rem'}\"></Column>\n                    <Column field=\"rating\" header=\"Reviews\" :sortable=\"true\" :styles=\"{'min-width':'12rem'}\">\n                        <template #body=\"slotProps\">\n                            <Rating :value=\"slotProps.data.rating\" :readonly=\"true\" :cancel=\"false\" />\n                        </template>\n                    </Column>\n                    <Column field=\"inventoryStatus\" header=\"Status\" :sortable=\"true\" :styles=\"{'min-width':'12rem'}\">\n                        <template #body=\"slotProps\">\n                            <span :class=\"'product-badge status-' + (slotProps.data.inventoryStatus ? slotProps.data.inventoryStatus.toLowerCase() : '')\">{{slotProps.data.inventoryStatus}}</span>\n                        </template>\n                    </Column>\n                    <Column :exportable=\"false\" :styles=\"{'min-width':'8rem'}\">\n                        <template #body=\"slotProps\">\n                            <Button icon=\"pi pi-pencil\" class=\"p-button-rounded p-button-success mr-2\" @click=\"editProduct(slotProps.data)\" />\n                            <Button icon=\"pi pi-trash\" class=\"p-button-rounded p-button-warning\" @click=\"confirmDeleteProduct(slotProps.data)\" />\n                        </template>\n                    </Column>\n                </DataTable>\n            </div>\n\n            <Dialog :visible.sync=\"productDialog\" :containerStyle=\"{width: '450px'}\" header=\"Product Details\" :modal=\"true\" class=\"p-fluid\">\n                <img :src=\"$publicUrl('demo/images/product/' + product.image)\" :alt=\"product.image\" class=\"product-image\" v-if=\"product.image\" />\n                <div class=\"field\">\n                    <label for=\"name\">Name</label>\n                    <InputText id=\"name\" v-model.trim=\"product.name\" required=\"true\" autofocus :class=\"{'p-invalid': submitted && !product.name}\" />\n                    <small class=\"p-invalid\" v-if=\"submitted && !product.name\">Name is required.</small>\n                </div>\n                <div class=\"field\">\n                    <label for=\"description\">Description</label>\n                    <Textarea id=\"description\" v-model=\"product.description\" required=\"true\" rows=\"3\" cols=\"20\" />\n                </div>\n\n                <div class=\"field\">\n                    <label class=\"mb-3\">Category</label>\n                    <div class=\"formgrid grid\">\n                        <div class=\"field-radiobutton col-6\">\n                            <RadioButton id=\"category1\" name=\"category\" value=\"Accessories\" v-model=\"product.category\" />\n                            <label for=\"category1\">Accessories</label>\n                        </div>\n                        <div class=\"field-radiobutton col-6\">\n                            <RadioButton id=\"category2\" name=\"category\" value=\"Clothing\" v-model=\"product.category\" />\n                            <label for=\"category2\">Clothing</label>\n                        </div>\n                        <div class=\"field-radiobutton col-6\">\n                            <RadioButton id=\"category3\" name=\"category\" value=\"Electronics\" v-model=\"product.category\" />\n                            <label for=\"category3\">Electronics</label>\n                        </div>\n                        <div class=\"field-radiobutton col-6\">\n                            <RadioButton id=\"category4\" name=\"category\" value=\"Fitness\" v-model=\"product.category\" />\n                            <label for=\"category4\">Fitness</label>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"formgrid grid\">\n                    <div class=\"field col\">\n                        <label for=\"price\">Price</label>\n                        <InputNumber id=\"price\" v-model=\"product.price\" mode=\"currency\" currency=\"USD\" locale=\"en-US\" />\n                    </div>\n                    <div class=\"field col\">\n                        <label for=\"quantity\">Quantity</label>\n                        <InputNumber id=\"quantity\" v-model=\"product.quantity\" integeronly />\n                    </div>\n                </div>\n                <template #footer>\n                    <Button label=\"Cancel\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"hideDialog\"/>\n                    <Button label=\"Save\" icon=\"pi pi-check\" class=\"p-button-text\" @click=\"saveProduct\" />\n                </template>\n            </Dialog>\n\n            <Dialog :visible.sync=\"deleteProductDialog\" :containerStyle=\"{width: '450px'}\" header=\"Confirm\" :modal=\"true\">\n                <div class=\"confirmation-content\">\n                    <i class=\"pi pi-exclamation-triangle mr-3\" style=\"font-size: 2rem\" />\n                    <span v-if=\"product\">Are you sure you want to delete <b>{{product.name}}</b>?</span>\n                </div>\n                <template #footer>\n                    <Button label=\"No\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"deleteProductDialog = false\"/>\n                    <Button label=\"Yes\" icon=\"pi pi-check\" class=\"p-button-text\" @click=\"deleteProduct\" />\n                </template>\n            </Dialog>\n\n            <Dialog :visible.sync=\"deleteProductsDialog\" :containerStyle=\"{width: '450px'}\" header=\"Confirm\" :modal=\"true\">\n                <div class=\"confirmation-content\">\n                    <i class=\"pi pi-exclamation-triangle mr-3\" style=\"font-size: 2rem\" />\n                    <span v-if=\"product\">Are you sure you want to delete the selected products?</span>\n                </div>\n                <template #footer>\n                    <Button label=\"No\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"deleteProductsDialog = false\"/>\n                    <Button label=\"Yes\" icon=\"pi pi-check\" class=\"p-button-text\" @click=\"deleteSelectedProducts\" />\n                </template>\n            </Dialog>\n\t\t</div>\n\n        <div class=\"content-section documentation\">\n            <TabView>\n                <TabPanel header=\"Source\">\n<CodeHighlight>\n<template v-pre>\n&lt;div class=\"card\"&gt;\n    &lt;Toolbar class=\"mb-4\"&gt;\n        &lt;template #start&gt;\n            &lt;Button label=\"New\" icon=\"pi pi-plus\" class=\"p-button-success mr-2\" @click=\"openNew\" /&gt;\n            &lt;Button label=\"Delete\" icon=\"pi pi-trash\" class=\"p-button-danger\" @click=\"confirmDeleteSelected\" :disabled=\"!selectedProducts || !selectedProducts.length\" /&gt;\n        &lt;/template&gt;\n\n        &lt;template #end&gt;\n            &lt;FileUpload mode=\"basic\" accept=\"image/*\" :maxFileSize=\"1000000\" label=\"Import\" chooseLabel=\"Import\" class=\"mr-2 inline-block\" /&gt;\n            &lt;Button label=\"Export\" icon=\"pi pi-upload\" class=\"p-button-help\" @click=\"exportCSV($event)\"  /&gt;\n        &lt;/template&gt;\n    &lt;/Toolbar&gt;\n\n    &lt;DataTable ref=\"dt\" :value=\"products\" :selection.sync=\"selectedProducts\" dataKey=\"id\"\n        :paginator=\"true\" :rows=\"10\" :filters=\"filters\"\n        paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\" :rowsPerPageOptions=\"[5,10,25]\"\n        currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} products\" responsiveLayout=\"scroll\"&gt;\n        &lt;template #header&gt;\n            &lt;div class=\"table-header flex flex-column md:flex-row md:justify-content-between\"&gt;\n                &lt;h5 class=\"mb-2 md:m-0 md:align-self-center\"&gt;Manage Products&lt;/h5&gt;\n                &lt;span class=\"p-input-icon-left\"&gt;\n                    &lt;i class=\"pi pi-search\" /&gt;\n                    &lt;InputText v-model=\"filters['global'].value\" placeholder=\"Search...\" /&gt;\n                &lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/template&gt;\n\n        &lt;Column selectionMode=\"multiple\" :styless=\"{width: '3rem'}\" :exportable=\"false\"&gt;&lt;/Column&gt;\n        &lt;Column field=\"code\" header=\"Code\" :sortable=\"true\" :styles=\"{'min-width':'12rem'}\"&gt;&lt;/Column&gt;\n        &lt;Column field=\"name\" header=\"Name\" :sortable=\"true\" :styles=\"{'min-width':'16rem'}\"&gt;&lt;/Column&gt;\n        &lt;Column header=\"Image\"&gt;\n            &lt;template #body=\"slotProps\"&gt;\n                &lt;img :src=\"$publicUrl('demo/images/product/' + slotProps.data.image)\" :alt=\"slotProps.data.image\" class=\"product-image\" /&gt;\n            &lt;/template&gt;\n        &lt;/Column&gt;\n        &lt;Column field=\"price\" header=\"Price\" :sortable=\"true\" :styles=\"{'min-width':'8rem'}\"&gt;\n            &lt;template #body=\"slotProps\"&gt;\n                {{formatCurrency(slotProps.data.price)}}\n            &lt;/template&gt;\n        &lt;/Column&gt;\n        &lt;Column field=\"category\" header=\"Category\" :sortable=\"true\" :styles=\"{'min-width':'10rem'}\"&gt;&lt;/Column&gt;\n        &lt;Column field=\"rating\" header=\"Reviews\" :sortable=\"true\" :styles=\"{'min-width':'12rem'}\"&gt;\n            &lt;template #body=\"slotProps\"&gt;\n                &lt;Rating :value=\"slotProps.data.rating\" :readonly=\"true\" :cancel=\"false\" /&gt;\n            &lt;/template&gt;\n        &lt;/Column&gt;\n        &lt;Column field=\"inventoryStatus\" header=\"Status\" :sortable=\"true\" :styles=\"{'min-width':'12rem'}\"&gt;\n            &lt;template #body=\"slotProps\"&gt;\n                &lt;span :class=\"'product-badge status-' + (slotProps.data.inventoryStatus ? slotProps.data.inventoryStatus.toLowerCase() : '')\"&gt;{{slotProps.data.inventoryStatus}}&lt;/span&gt;\n            &lt;/template&gt;\n        &lt;/Column&gt;\n        &lt;Column :exportable=\"false\" :styles=\"{'min-width':'8rem'}\"&gt;\n            &lt;template #body=\"slotProps\"&gt;\n                &lt;Button icon=\"pi pi-pencil\" class=\"p-button-rounded p-button-success mr-2\" @click=\"editProduct(slotProps.data)\" /&gt;\n                &lt;Button icon=\"pi pi-trash\" class=\"p-button-rounded p-button-warning\" @click=\"confirmDeleteProduct(slotProps.data)\" /&gt;\n            &lt;/template&gt;\n        &lt;/Column&gt;\n    &lt;/DataTable&gt;\n&lt;/div&gt;\n\n&lt;Dialog :visible.sync=\"productDialog\" :style=\"{width: '450px'}\" header=\"Product Details\" :modal=\"true\" class=\"p-fluid\"&gt;\n    &lt;img :src=\"$publicUrl('demo/images/product/' + product.image)\" :alt=\"product.image\" class=\"product-image\" v-if=\"product.image\" /&gt;\n    &lt;div class=\"field\"&gt;\n        &lt;label for=\"name\"&gt;Name&lt;/label&gt;\n        &lt;InputText id=\"name\" v-model.trim=\"product.name\" required=\"true\" autofocus :class=\"{'p-invalid': submitted && !product.name}\" /&gt;\n        &lt;small class=\"p-invalid\" v-if=\"submitted && !product.name\"&gt;Name is required.&lt;/small&gt;\n    &lt;/div&gt;\n    &lt;div class=\"field\"&gt;\n        &lt;label for=\"description\"&gt;Description&lt;/label&gt;\n        &lt;Textarea id=\"description\" v-model=\"product.description\" required=\"true\" rows=\"3\" cols=\"20\" /&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"field\"&gt;\n        &lt;label class=\"mb-3\"&gt;Category&lt;/label&gt;\n        &lt;div class=\"formgrid grid\"&gt;\n            &lt;div class=\"field-radiobutton col-6\"&gt;\n                &lt;RadioButton id=\"category1\" name=\"category\" value=\"Accessories\" v-model=\"product.category\" /&gt;\n                &lt;label for=\"category1\"&gt;Accessories&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;div class=\"field-radiobutton col-6\"&gt;\n                &lt;RadioButton id=\"category2\" name=\"category\" value=\"Clothing\" v-model=\"product.category\" /&gt;\n                &lt;label for=\"category2\"&gt;Clothing&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;div class=\"field-radiobutton col-6\"&gt;\n                &lt;RadioButton id=\"category3\" name=\"category\" value=\"Electronics\" v-model=\"product.category\" /&gt;\n                &lt;label for=\"category3\"&gt;Electronics&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;div class=\"field-radiobutton col-6\"&gt;\n                &lt;RadioButton id=\"category4\" name=\"category\" value=\"Fitness\" v-model=\"product.category\" /&gt;\n                &lt;label for=\"category4\"&gt;Fitness&lt;/label&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"formgrid grid\"&gt;\n        &lt;div class=\"field col\"&gt;\n            &lt;label for=\"price\"&gt;Price&lt;/label&gt;\n            &lt;InputNumber id=\"price\" v-model=\"product.price\" mode=\"currency\" currency=\"USD\" locale=\"en-US\" /&gt;\n        &lt;/div&gt;\n        &lt;div class=\"field col\"&gt;\n            &lt;label for=\"quantity\"&gt;Quantity&lt;/label&gt;\n            &lt;InputNumber id=\"quantity\" v-model=\"product.quantity\" integeronly /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;template #footer&gt;\n        &lt;Button label=\"Cancel\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"hideDialog\"/&gt;\n        &lt;Button label=\"Save\" icon=\"pi pi-check\" class=\"p-button-text\" @click=\"saveProduct\" /&gt;\n    &lt;/template&gt;\n&lt;/Dialog&gt;\n\n&lt;Dialog :visible.sync=\"deleteProductDialog\" :styles=\"{width: '450px'}\" header=\"Confirm\" :modal=\"true\"&gt;\n    &lt;div class=\"confirmation-content\"&gt;\n        &lt;i class=\"pi pi-exclamation-triangle mr-3\" style=\"font-size: 2rem\" /&gt;\n        &lt;span v-if=\"product\"&gt;Are you sure you want to delete &lt;b&gt;{{product.name}}&lt;/b&gt;?&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;template #footer&gt;\n        &lt;Button label=\"No\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"deleteProductDialog = false\"/&gt;\n        &lt;Button label=\"Yes\" icon=\"pi pi-check\" class=\"p-button-text\" @click=\"deleteProduct\" /&gt;\n    &lt;/template&gt;\n&lt;/Dialog&gt;\n\n&lt;Dialog :visible.sync=\"deleteProductsDialog\" :styles=\"{width: '450px'}\" header=\"Confirm\" :modal=\"true\"&gt;\n    &lt;div class=\"confirmation-content\"&gt;\n        &lt;i class=\"pi pi-exclamation-triangle mr-3\" style=\"font-size: 2rem\" /&gt;\n        &lt;span v-if=\"product\"&gt;Are you sure you want to delete the selected products?&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;template #footer&gt;\n        &lt;Button label=\"No\" icon=\"pi pi-times\" class=\"p-button-text\" @click=\"deleteProductsDialog = false\"/&gt;\n        &lt;Button label=\"Yes\" icon=\"pi pi-check\" class=\"p-button-text\" @click=\"deleteSelectedProducts\" /&gt;\n    &lt;/template&gt;\n&lt;/Dialog&gt;\n</template>\n</CodeHighlight>\n\n<CodeHighlight lang=\"javascript\">\nimport ProductService from '../../service/ProductService';\n\nexport default {\nimport {FilterMatchMode} from 'primevue2/api';\n\nexport default {\n    data() {\n        return {\n            products: null,\n            productDialog: false,\n            deleteProductDialog: false,\n            deleteProductsDialog: false,\n            product: {},\n            selectedProducts: null,\n            filters: {},\n            submitted: false,\n            statuses: [\n\t\t\t\t{label: 'INSTOCK', value: 'instock'},\n\t\t\t\t{label: 'LOWSTOCK', value: 'lowstock'},\n\t\t\t\t{label: 'OUTOFSTOCK', value: 'outofstock'}\n            ]\n        }\n    },\n    productService: null,\n    created() {\n        this.productService = new ProductService();\n        this.initFilters();\n    },\n    mounted() {\n        this.productService.getProducts().then(data => this.products = data);\n    },\n    methods: {\n        formatCurrency(value) {\n            if(value)\n\t\t\t\treturn value.toLocaleString('en-US', {style: 'currency', currency: 'USD'});\n\t\t\treturn;\n        },\n        openNew() {\n            this.product = {};\n            this.submitted = false;\n            this.productDialog = true;\n        },\n        hideDialog() {\n            this.productDialog = false;\n            this.submitted = false;\n        },\n        saveProduct() {\n            this.submitted = true;\n\n\t\t\tif (this.product.name.trim()) {\n                if (this.product.id) {\n                    this.product.inventoryStatus = this.product.inventoryStatus.value ? this.product.inventoryStatus.value: this.product.inventoryStatus;\n                    this.products[this.findIndexById(this.product.id)] = this.product;\n                    this.$toast.add({severity:'success', summary: 'Successful', detail: 'Product Updated', life: 3000});\n                }\n                else {\n                    this.product.id = this.createId();\n                    this.product.code = this.createId();\n                    this.product.image = 'product-placeholder.svg';\n                    this.product.inventoryStatus = this.product.inventoryStatus ? this.product.inventoryStatus.value : 'INSTOCK';\n                    this.products.push(this.product);\n                    this.$toast.add({severity:'success', summary: 'Successful', detail: 'Product Created', life: 3000});\n                }\n\n                this.productDialog = false;\n                this.product = {};\n            }\n        },\n        editProduct(product) {\n            this.product = {...product};\n            this.productDialog = true;\n        },\n        confirmDeleteProduct(product) {\n            this.product = product;\n            this.deleteProductDialog = true;\n        },\n        deleteProduct() {\n            this.products = this.products.filter(val => val.id !== this.product.id);\n            this.deleteProductDialog = false;\n            this.product = {};\n            this.$toast.add({severity:'success', summary: 'Successful', detail: 'Product Deleted', life: 3000});\n        },\n        findIndexById(id) {\n            let index = -1;\n            for (let i = 0; i &lt; this.products.length; i++) {\n                if (this.products[i].id === id) {\n                    index = i;\n                    break;\n                }\n            }\n\n            return index;\n        },\n        createId() {\n            let id = '';\n            var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n            for ( var i = 0; i &lt; 5; i++ ) {\n                id += chars.charAt(Math.floor(Math.random() * chars.length));\n            }\n            return id;\n        },\n        exportCSV() {\n            this.$refs.dt.exportCSV();\n        },\n        confirmDeleteSelected() {\n            this.deleteProductsDialog = true;\n        },\n        deleteSelectedProducts() {\n            this.products = this.products.filter(val => !this.selectedProducts.includes(val));\n            this.deleteProductsDialog = false;\n            this.selectedProducts = null;\n            this.$toast.add({severity:'success', summary: 'Successful', detail: 'Products Deleted', life: 3000});\n        },\n        initFilters() {\n            this.filters = {\n                'global': {value: null, matchMode: FilterMatchMode.CONTAINS},\n            }\n        }\n    }\n}\n</CodeHighlight>\n\n<CodeHighlight lang=\"css\">\n.table-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    @media screen and (max-width: 960px) {\n        align-items: start;\n\t}\n}\n\n.product-image {\n    width: 100px;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n}\n\n.p-dialog .product-image {\n    width: 150px;\n    margin: 0 auto 2rem auto;\n    display: block;\n}\n\n.confirmation-content {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n@media screen and (max-width: 960px) {\n\t:deep(.p-toolbar) {\n\t\tflex-wrap: wrap;\n\n\t\t.p-button {\n            margin-bottom: 0.25rem;\n        }\n\t}\n}\n</CodeHighlight>\n                </TabPanel>\n            </TabView>\n        </div>\n\t</div>\n</template>\n\n<script>\nimport FilterMatchMode from '../../../src/components/api/FilterMatchMode'\nimport ProductService from '../../service/ProductService'\n\nexport default {\n  data() {\n    return {\n      products: null,\n      productDialog: false,\n      deleteProductDialog: false,\n      deleteProductsDialog: false,\n      product: {},\n      selectedProducts: null,\n      filters: {},\n      submitted: false,\n      statuses: [\n        {label: 'INSTOCK', value: 'instock'},\n        {label: 'LOWSTOCK', value: 'lowstock'},\n        {label: 'OUTOFSTOCK', value: 'outofstock'}\n      ]\n    }\n  },\n  productService: null,\n  created() {\n    this.productService = new ProductService()\n    this.initFilters()\n  },\n  mounted() {\n    this.productService.getProducts().then(data => this.products = data)\n  },\n  methods: {\n    formatCurrency(value) {\n      if(value)\n        return value.toLocaleString('en-US', {style: 'currency', currency: 'USD'})\n      return\n    },\n    openNew() {\n      this.product = {}\n      this.submitted = false\n      this.productDialog = true\n    },\n    hideDialog() {\n      this.productDialog = false\n      this.submitted = false\n    },\n    saveProduct() {\n      this.submitted = true\n\n      if (this.product.name.trim()) {\n        if (this.product.id) {\n          this.product.inventoryStatus = this.product.inventoryStatus.value ? this.product.inventoryStatus.value: this.product.inventoryStatus\n          this.products[this.findIndexById(this.product.id)] = this.product\n          this.$toast.add({severity:'success', summary: 'Successful', detail: 'Product Updated', life: 3000})\n        }\n        else {\n          this.product.id = this.createId()\n          this.product.code = this.createId()\n          this.product.image = 'product-placeholder.svg'\n          this.product.inventoryStatus = this.product.inventoryStatus ? this.product.inventoryStatus.value : 'INSTOCK'\n          this.products.push(this.product)\n          this.$toast.add({severity:'success', summary: 'Successful', detail: 'Product Created', life: 3000})\n        }\n\n        this.productDialog = false\n        this.product = {}\n      }\n    },\n    editProduct(product) {\n      this.product = {...product}\n      this.productDialog = true\n    },\n    confirmDeleteProduct(product) {\n      this.product = product\n      this.deleteProductDialog = true\n    },\n    deleteProduct() {\n      this.products = this.products.filter(val => val.id !== this.product.id)\n      this.deleteProductDialog = false\n      this.product = {}\n      this.$toast.add({severity:'success', summary: 'Successful', detail: 'Product Deleted', life: 3000})\n    },\n    findIndexById(id) {\n      let index = -1\n      for (let i = 0; i < this.products.length; i++) {\n        if (this.products[i].id === id) {\n          index = i\n          break\n        }\n      }\n\n      return index\n    },\n    createId() {\n      let id = ''\n      var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\n      for ( var i = 0; i < 5; i++ ) {\n        id += chars.charAt(Math.floor(Math.random() * chars.length))\n      }\n      return id\n    },\n    exportCSV() {\n      this.$refs.dt.exportCSV()\n    },\n    confirmDeleteSelected() {\n      this.deleteProductsDialog = true\n    },\n    deleteSelectedProducts() {\n      this.products = this.products.filter(val => !this.selectedProducts.includes(val))\n      this.deleteProductsDialog = false\n      this.selectedProducts = null\n      this.$toast.add({severity:'success', summary: 'Successful', detail: 'Products Deleted', life: 3000})\n    },\n    initFilters() {\n      this.filters = {\n        'global': {value: null, matchMode: FilterMatchMode.CONTAINS},\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.table-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    @media screen and (max-width: 960px) {\n        align-items: start;\n\t}\n}\n\n.product-image {\n    width: 100px;\n    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n}\n\n.p-dialog .product-image {\n    width: 150px;\n    margin: 0 auto 2rem auto;\n    display: block;\n}\n\n.confirmation-content {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n@media screen and (max-width: 960px) {\n\t:deep(.p-toolbar) {\n\t\tflex-wrap: wrap;\n\n\t\t.p-button {\n            margin-bottom: 0.25rem;\n        }\n\t}\n}\n</style>\n"],"names":["_sfc_main","data","products","productDialog","deleteProductDialog","deleteProductsDialog","product","selectedProducts","filters","submitted","statuses","label","value","productService","created","this","ProductService","initFilters","mounted","_this","getProducts","then","methods","formatCurrency","toLocaleString","style","currency","openNew","hideDialog","saveProduct","name","trim","id","inventoryStatus","findIndexById","$toast","add","severity","summary","detail","life","createId","code","image","push","editProduct","_objectSpread","confirmDeleteProduct","deleteProduct","_this2","filter","val","index","i","length","chars","charAt","Math","floor","random","exportCSV","$refs","dt","confirmDeleteSelected","deleteSelectedProducts","_this3","includes","global","matchMode","FilterMatchMode","CONTAINS"],"mappings":"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"}