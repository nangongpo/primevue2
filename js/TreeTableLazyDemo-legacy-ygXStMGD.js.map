{"version":3,"file":"TreeTableLazyDemo-legacy-ygXStMGD.js","sources":["../../src/doc/treetable/Lazy.vue","../../src/views/treetable/TreeTableLazyDemo.vue"],"sourcesContent":["<template>\n  <div class=\"content-section documentation\">\n    <TabView>\n      <TabPanel header=\"Source\">\n        <DocSectionCode :code=\"sourceCode1\" />\n        <DocSectionCode :code=\"sourceCode2\" importCode />\n      </TabPanel>\n    </TabView>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      sourceCode1: {\n        basic: `\n<TreeTable :value=\"nodes\" :lazy=\"true\" :paginator=\"true\" :rows=\"rows\" :loading=\"loading\"\n    @node-expand=\"onExpand\" @page=\"onPage\" :totalRecords=\"totalRecords\">\n    <Column field=\"name\" header=\"Name\" :expander=\"true\"></Column>\n    <Column field=\"size\" header=\"Size\"></Column>\n    <Column field=\"type\" header=\"Type\"></Column>\n</TreeTable>\n        `\n      },\n      sourceCode2: {\n        basic: `\nexport default {\n    data() {\n        return {\n            nodes: null,\n            rows: 10,\n            loading: false,\n            totalRecords: 0\n        }\n    },\n    mounted() {\n        this.loading = true;\n\n        setTimeout(() => {\n            this.loading = false;\n            this.nodes = this.loadNodes(0, this.rows);\n            this.totalRecords = 1000;\n        }, 1000);\n    },\n    methods: {\n        onExpand(node) {\n            if (!node.children) {\n                this.loading = true;\n\n                setTimeout(() => {\n                    let lazyNode = {...node};\n\n                    lazyNode.children = [\n                        {\n                            data: {\n                                name: lazyNode.data.name + ' - 0',\n                                size: Math.floor(Math.random() * 1000) + 1 + 'kb',\n                                type: 'File'\n                            },\n                        },\n                        {\n                            data: {\n                                name: lazyNode.data.name + ' - 1',\n                                size: Math.floor(Math.random() * 1000) + 1 + 'kb',\n                                type: 'File'\n                            }\n                        }\n                    ];\n\n                    let nodes = this.nodes.map(n => {\n                        if (n.key === node.key) {\n                            n = lazyNode;\n                        }\n\n                        return n;\n                    });\n\n                    this.loading = false;\n                    this.nodes = nodes;\n                }, 250);\n            }\n        },\n        onPage(event) {\n            this.loading = true;\n\n            //imitate delay of a backend call\n            setTimeout(() => {\n                this.loading = false;\n                this.nodes = this.loadNodes(event.first, this.rows);\n            }, 1000);\n        },\n        loadNodes(first, rows) {\n            let nodes = [];\n\n            for(let i = 0; i < rows; i++) {\n                let node = {\n                    key: (first + i),\n                    data: {\n                        name: 'Item ' + (first + i),\n                        size: Math.floor(Math.random() * 1000) + 1 + 'kb',\n                        type: 'Type ' + (first + i)\n                    },\n                    leaf: false\n                };\n\n                nodes.push(node);\n            }\n\n            return nodes;\n        }\n    }\n}\n        `\n      },\n    }\n  }\n}\n</script>\n","<template>\n  <div>\n    <div class=\"content-section introduction\">\n      <div class=\"feature-intro\">\n        <h1>TreeTable <span>Lazy</span></h1>\n        <p>Lazy mode is handy to deal with large datasets, instead of loading the entire data, small chunks of data is\n          loaded by invoking corresponding callbacks everytime paging or sorting. In addition,\n          children of a node can be loaded on demand at onNodeExpand event as well. Sample belows imitates lazy paging\n          by using an in memory list..</p>\n      </div>\n    </div>\n\n    <div class=\"content-section implementation\">\n      <div class=\"card\">\n        <TreeTable :value=\"nodes\" :lazy=\"true\" :paginator=\"true\" :rows=\"rows\" :loading=\"loading\" @node-expand=\"onExpand\"\n          @page=\"onPage\" :totalRecords=\"totalRecords\">\n          <Column field=\"name\" header=\"Name\" :expander=\"true\"></Column>\n          <Column field=\"size\" header=\"Size\"></Column>\n          <Column field=\"type\" header=\"Type\"></Column>\n        </TreeTable>\n      </div>\n    </div>\n\n    <TreeTableLazyDoc />\n  </div>\n</template>\n\n<script>\nimport TreeTableLazyDoc from '@/doc/treetable/Lazy.vue'\n\nexport default {\n  data() {\n    return {\n      nodes: null,\n      rows: 10,\n      loading: false,\n      totalRecords: 0\n    }\n  },\n  mounted() {\n    this.loading = true\n\n    setTimeout(() => {\n      this.loading = false\n      this.nodes = this.loadNodes(0, this.rows)\n      this.totalRecords = 1000\n    }, 1000)\n  },\n  methods: {\n    onExpand(node) {\n      if (!node.children) {\n        this.loading = true\n\n        setTimeout(() => {\n          let lazyNode = { ...node }\n\n          lazyNode.children = [\n            {\n              data: {\n                name: lazyNode.data.name + ' - 0',\n                size: Math.floor(Math.random() * 1000) + 1 + 'kb',\n                type: 'File'\n              },\n            },\n            {\n              data: {\n                name: lazyNode.data.name + ' - 1',\n                size: Math.floor(Math.random() * 1000) + 1 + 'kb',\n                type: 'File'\n              }\n            }\n          ]\n\n          let nodes = this.nodes.map(n => {\n            if (n.key === node.key) {\n              n = lazyNode\n            }\n\n            return n\n          })\n\n          this.loading = false\n          this.nodes = nodes\n        }, 250)\n      }\n    },\n    onPage(event) {\n      this.loading = true\n\n      //imitate delay of a backend call\n      setTimeout(() => {\n        this.loading = false\n        this.nodes = this.loadNodes(event.first, this.rows)\n      }, 1000)\n    },\n    loadNodes(first, rows) {\n      let nodes = []\n\n      for (let i = 0; i < rows; i++) {\n        let node = {\n          key: (first + i),\n          data: {\n            name: 'Item ' + (first + i),\n            size: Math.floor(Math.random() * 1000) + 1 + 'kb',\n            type: 'Type ' + (first + i)\n          },\n          leaf: false\n        }\n\n        nodes.push(node)\n      }\n\n      return nodes\n    }\n  },\n  components: { TreeTableLazyDoc }\n}\n</script>\n"],"names":["_sfc_main","data","nodes","rows","loading","totalRecords","mounted","_this","this","setTimeout","loadNodes","methods","onExpand","node","_this2","children","lazyNode","_objectSpread","name","size","Math","floor","random","type","map","n","key","onPage","event","_this3","first","i","leaf","push","components","TreeTableLazyDoc","sourceCode1","basic","sourceCode2"],"mappings":"wqCAYA,ICkBAA,EAAA,CACAC,KAAAA,WACA,MAAA,CACAC,MAAA,KACAC,KAAA,GACAC,SAAA,EACAC,aAAA,EAEA,EACAC,QAAA,WAAAC,IAAAA,EACAC,KAAAA,KAAAJ,SAAA,EAEAK,YAAA,WACAF,EAAAH,SAAA,EACAG,EAAAL,MAAAK,EAAAG,UAAA,EAAAH,EAAAJ,MACAI,EAAAF,aAAA,GACA,GAAA,IACA,EACAM,QAAA,CACAC,SAAA,SAAAC,GAAA,IAAAC,EAAAN,KACAK,EAAAE,WACAP,KAAAJ,SAAA,EAEAK,YAAA,WACA,IAAAO,iWAAAC,CAAAJ,CAAAA,EAAAA,GAEAG,EAAAD,SAAA,CACA,CACAd,KAAA,CACAiB,KAAAF,EAAAf,KAAAiB,KAAA,OACAC,KAAAC,KAAAC,MAAA,IAAAD,KAAAE,UAAA,EAAA,KACAC,KAAA,SAGA,CACAtB,KAAA,CACAiB,KAAAF,EAAAf,KAAAiB,KAAA,OACAC,KAAAC,KAAAC,MAAA,IAAAD,KAAAE,UAAA,EAAA,KACAC,KAAA,UAKA,IAAArB,EAAAY,EAAAZ,MAAAsB,KAAA,SAAAC,GAKA,OAJAA,EAAAC,MAAAb,EAAAa,MACAD,EAAAT,GAGAS,CACA,IAEAX,EAAAV,SAAA,EACAU,EAAAZ,MAAAA,CACA,GAAA,KAEA,EACAyB,OAAAA,SAAAC,GAAAC,IAAAA,EACArB,KAAAA,KAAAJ,SAAA,EAGAK,YAAA,WACAoB,EAAAzB,SAAA,EACAyB,EAAA3B,MAAA2B,EAAAnB,UAAAkB,EAAAE,MAAAD,EAAA1B,KACA,GAAA,IACA,EACAO,UAAA,SAAAoB,EAAA3B,GAGA,IAFA,IAAAD,EAAA,GAEA6B,EAAA,EAAAA,EAAA5B,EAAA4B,IAAA,CACA,IAAAlB,EAAA,CACAa,IAAAI,EAAAC,EACA9B,KAAA,CACAiB,KAAA,SAAAY,EAAAC,GACAZ,KAAAC,KAAAC,MAAA,IAAAD,KAAAE,UAAA,EAAA,KACAC,KAAA,SAAAO,EAAAC,IAEAC,MAAA,GAGA9B,EAAA+B,KAAApB,EACA,CAEA,OAAAX,CACA,GAEAgC,WAAA,CAAAC,mBDvGA,CACAlC,KAAAA,WACA,MAAA,CACAmC,YAAA,CACAC,MAQA,uWACAC,YAAA,CACAD,MAAA,wgFA0FA"}